{"version":3,"sources":["kernels/simulation.ts","simulator.ts","sources.ts","components.tsx","maps.ts","util.ts","kernels/rendering.ts","serialization.ts","share.ts","App.tsx","serviceWorker.ts","index.tsx","icons/fullscreen.png","icons/github.png","icons/settings.png","icons/share.png","icons/info.png","icons/examples.png","icons/materialbrush.png","icons/signalbrush.png","icons/resetmaterials.png","icons/resetfields.png"],"names":["getAt","texture","shapeX","shapeY","x","y","makeFieldTexture","value","copyTexture","this","thread","copyTextureWithBounds","bounds","outOfBoundsValue","drawSquare","pos","size","keep","oldValue","output","Math","max","abs","drawCircle","radius","dx","dy","injectSource","source","field","dt","gx","gy","decaySource","pow","updateMagneticX","electricFieldZ","permeability","conductivity","magneticFieldX","cellSize","reflectiveBoundary","xAtMinBound","xAtMaxBound","yAtMinBound","yAtMaxBound","perm","c","d","beta","updateMagneticY","magneticFieldY","updateMagneticZ","electricFieldX","electricFieldY","magneticFieldZ","updateElectricX","permittivity","updateElectricY","updateElectricZ","makeDrawSquareInfo","center","halfSize","drawShape","makeDrawCircleInfo","memoByName","makeNew","memoized","name","FDTDSimulator","gpu","gridSize","data","updateMagnetic","updateElectric","drawOnTexture","kernels","setGridSize","forEach","kernel","setOutput","dim","electricField","shape","magneticField","oldShape","values","resetFields","setCellSize","stepElectric","el","map","f","mag","cond","injectedElZ","electricSourceFieldZ","time","stepMagnetic","resetMaterials","fieldName","drawInfo","drawFunc","copiedValues","Error","JSON","stringify","drawMaterial","materialType","materialField","simulationData","getFieldByMaterialType","injectSignal","loadPermittivity","length","loadPermeability","loadConductivity","getData","makeKernel","runKernel","createKernel","setWarnVarUsage","setPipeline","setTactic","setDynamicOutput","setDynamicArguments","setPrecision","push","makeKernelWithFuncs","setFunctions","k","makeKernelWithFuncsAndConsts","setConstants","makeField","initialValue","i","PointSignalSource","amplitude","frequency","position","turnOffTime","inject","simulator","t","undefined","cos","PI","CollapsibleContainer","props","collapsed","setCollapsed","id","className","buttonStyle","style","children","title","textAlign","background","fontWeight","color","height","onClick","e","width","float","border","fontSize","cursor","marginTop","LabeledSlider","setValue","allowNegative","logarithmic","displayDigits","absValue","log2","useState","negative","setNegative","rangeSliderRef","useRef","updateValue","useCallback","current","newValue","parseFloat","useEffect","displayValue","toFixed","label","marginLeft","type","checked","onChange","target","ref","min","step","lineHeight","marginBottom","OptionSelector","options","option","optionIndex","key","backgroundColor","selectedOption","overflow","textOverflow","setSelectedOption","ExamplesComponent","setGridSizeLongest","setDt","setSimulationSpeed","setSources","loadMap","simulatorMap","materialMap","loadedSources","sourceDescriptors","desc","simulationSettings","simulationSpeed","useMemo","padding","_","Array","fill","maps","margin","slitCenterX","round","slitSize","isWallRow","permittivityRow","getCurvePoint","sin","thickness","endPoint","isLensPoint","point","SettingsComponent","qualityPresets","setResolutionScale","onPresetClicked","preset","gridSizeLongest","resolutionScale","Object","keys","presetName","setReflectiveBoundary","ImageButton","highlight","borderRadius","src","alt","ShareComponent","shareTitle","shareText","shareUrl","shareUrlTextRef","onCopyClicked","select","document","execCommand","onShareClicked","nav","navigator","share","text","url","then","console","log","catch","err","error","readOnly","MaterialBrushMenu","drawShapeType","setDrawShapeType","drawShapeTypeIndex","setDrawShapeTypeIndex","index","brushSizeLabel","snapInput","setSnapInput","materialBrushSize","setMaterialBrushSize","permittivityBrushValue","setPermittivityBrushValue","permeabilityBrushValue","setPermeabilityBrushValue","conductivityBrushValue","setConductivityBrushValue","SignalBrushMenu","signalBrushSize","setSignalBrushSize","signalBrushValue","setSignalBrushValue","signalFrequency","setSignalFrequency","toggleFullScreen","fullscreenElement","exitFullscreen","documentElement","requestFullscreen","clamp","nativeSmoothStep","drawGpu","fieldBrightness","eX","eY","eZ","eEnergy","mX","mY","mZ","mEnergy","permittivityValue","exp","permeabilityValue","conductivityValue","tileFactorX","tileFactorY","dxPermittivity","dyPermittivity","circleDistPermittivity","sqrt","dxPermeability","dyPermeability","circleDistPermeability","dxConductivity","dyConductivity","bgPermittivity","bgPermeability","backgroundPermittivity","backgroundPermeability","backgroundConductivity","drawCpu","fx","fy","currentSimulatorMapVersion","encodeSimulatorMap","encodedMaterialMap","encodeMaterialMap","version","decodeSimulatorMap","encodedSimulatorMap","materialMapArray","Float32Array","pako","buffer","decodeMaterialMap_v0","decodeMaterialMap","Uint8Array","to","apiUrl","shareId","a","fetch","response","ok","responseText","parse","method","mode","headers","body","json","responseObject","SideBarType","gpuMode","GPU","isSinglePrecisionSupported","isWebGL2Supported","isWebGLSupported","getGpuMode","defaultPreset","defaultSignalFrequency","initialDt","initialCellSize","initialGridSizeLongest","initialResolutionScale","initialWindowSize","window","innerWidth","innerHeight","initialCanvasSize","calculateCanvasSize","initialGridSize","calculateGridSize","windowSize","canvasSize","canvasAspect","ceil","Boolean","location","hostname","match","ReactDOM","render","urlShareId","hash","substr","setShareId","drawCanvasRef","setCanvasSize","setWindowSize","sources","adjustCanvasSize","wndSize","addEventListener","removeEventListener","setGpu","canvas","addNativeFunction","renderSim","funcs","setGraphical","makeRenderSimulatorCanvas","setShowLoading","getSharedSimulatorMap","descriptor","descriptorToSignalSource","finally","drawingMaterial","setDrawingMaterial","clickOption","setClickOption","mousePosition","setMousePosition","signalStrength","mouseDownPos","shareInProgress","setShareInProgress","sideMenuCollapsed","setSideMenuCollapsed","infoVisible","setInfoVisible","showLoading","inputStartPos","setInputStartPos","inputDir","setInputDir","windowToSimulationPoint","windowPoint","floor","simStep","simData","brushHalfSize","timer","setInterval","clearInterval","drawStep","cnvSize","stop","requestAnimationFrame","drawIfNotStopped","changeMaterial","canvasPos","isInputDown","setIsInputDown","onInputDown","clientPos","onInputMove","shiftDown","offset","projection","angleQuantum","snappedAngle","atan2","dir","onInputUp","activeBrushSize","SignalBrush","sideBar","setSideBar","shareVisible","setShareVisible","hideWhenInputDownStyle","pointerEvents","opacity","getMaterialMap","toArray","generateShareUrl","shareSimulatorMap","signalSourceToDescriptor","origin","pathname","top","left","right","bottom","touchAction","userSelect","onMouseDown","clientX","clientY","onMouseMove","shiftKey","onMouseUp","onMouseLeave","onTouchStart","touches","onTouchMove","onTouchEnd","onTouchCancel","onContextMenu","preventDefault","iconShare","iconInfo","href","iconGitHub","iconSignalBrush","MaterialBrush","iconMaterialBrush","Examples","iconExamples","Settings","iconSettings","iconFullscreen","iconResetFields","iconResetMaterials","toString","textDecoration","rel","getElementById","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.5b628fb0.chunk.js","sourcesContent":["import { IKernelFunctionThis } from \"gpu.js\"\r\n\r\nexport function getAt(texture: number[][], shapeX: number, shapeY: number, x: number, y: number) {\r\n    if (x < 0 || x >= shapeX || y < 0 || y >= shapeY) {\r\n        return 0\r\n    }\r\n\r\n    return texture[y][x]\r\n}\r\n\r\nexport function makeFieldTexture(this: IKernelFunctionThis, value: number) {\r\n    return value\r\n}\r\n\r\nexport function copyTexture(this: IKernelFunctionThis, texture: number[][]) {\r\n    return texture[this.thread.y!][this.thread.x]\r\n}\r\n\r\nexport function copyTextureWithBounds(this: IKernelFunctionThis, texture: number[][], bounds: number[], outOfBoundsValue: number) {\r\n    const x = this.thread.x as number\r\n    const y = this.thread.y! as number\r\n\r\n    if (x < 0 || y < 0 || x >= bounds[0] || y >= bounds[1]) {\r\n        return outOfBoundsValue\r\n    }\r\n\r\n    return texture[y][x]\r\n}\r\n\r\nexport function drawSquare(this: IKernelFunctionThis, pos: number[], size: number, value: number, keep: number, texture: number[][]) {\r\n    const x = this.thread.x as number\r\n    const y = this.thread.y! as number\r\n    const gx = this.output.x as number\r\n    const gy = this.output.y as number\r\n\r\n    const oldValue = getAt(texture, gx, gy, x, y)\r\n\r\n    const within = Math.max(Math.abs(pos[0] - x), Math.abs(pos[1] - y)) < size\r\n\r\n    return within ? value + keep * oldValue : oldValue\r\n}\r\n\r\nexport function drawCircle(this: IKernelFunctionThis, pos: number[], radius: number, value: number, keep: number, texture: number[][]) {\r\n    const x = this.thread.x as number\r\n    const y = this.thread.y! as number\r\n    const gx = this.output.x as number\r\n    const gy = this.output.y as number\r\n\r\n    const oldValue = getAt(texture, gx, gy, x, y)\r\n\r\n    const dx = pos[0] - x\r\n    const dy = pos[1] - y\r\n\r\n    const within = dx * dx + dy * dy < radius * radius\r\n\r\n    return within ? value + keep * oldValue : oldValue\r\n}\r\n\r\nexport function injectSource(this: IKernelFunctionThis, source: number[][], field: number[][], dt: number) {\r\n    const x = this.thread.x as number\r\n    const y = this.thread.y! as number\r\n    const gx = this.output.x as number\r\n    const gy = this.output.y as number\r\n\r\n    return getAt(field, gx, gy, x, y) + getAt(source, gx, gy, x, y) * dt\r\n}\r\n\r\nexport function decaySource(this: IKernelFunctionThis, source: number[][], dt: number) {\r\n    const x = this.thread.x as number\r\n    const y = this.thread.y! as number\r\n    const gx = this.output.x as number\r\n    const gy = this.output.y as number\r\n\r\n    return getAt(source, gx, gy, x, y) * Math.pow(0.1, dt)\r\n}\r\n\r\nexport function updateMagneticX(this: IKernelFunctionThis, electricFieldZ: number[][], permeability: number[][], conductivity: number[][], magneticFieldX: number[][], dt: number, cellSize: number, reflectiveBoundary: boolean) {\r\n    const x = this.thread.x as number\r\n    const y = this.thread.y! as number\r\n    const gx = this.output.x as number\r\n    const gy = this.output.y as number\r\n\r\n    if (!reflectiveBoundary) {\r\n        const xAtMinBound = x < 2 ? 1 : 0\r\n        const xAtMaxBound = x + 2 >= gx ? -1 : 0\r\n        const yAtMinBound = y < 2 ? 1 : 0\r\n        const yAtMaxBound = y + 2 >= gy ? -1 : 0\r\n        if (xAtMinBound !== 0 || xAtMaxBound !== 0 || yAtMinBound !== 0 || yAtMaxBound !== 0) {\r\n            return magneticFieldX[y + yAtMinBound + yAtMaxBound][x + xAtMinBound + xAtMaxBound]\r\n        }\r\n    }\r\n\r\n    const perm = getAt(permeability, gx, gy, x, y)\r\n    const cond = getAt(conductivity, gx, gy, x, y)\r\n    const c = cond * dt / (2 * perm)\r\n    const d = 1 / (1 + c)\r\n    const alpha = (1 - c) * d\r\n    const beta = dt / (perm * cellSize) * d\r\n\r\n    // d_Y Z - d_Z Y, but d_Z = 0 in 2d\r\n    return alpha * getAt(magneticFieldX, gx, gy, x, y) - beta * (\r\n        (getAt(electricFieldZ, gx, gy, x, y + 1) - getAt(electricFieldZ, gx, gy, x, y)))\r\n}\r\n\r\nexport function updateMagneticY(this: IKernelFunctionThis, electricFieldZ: number[][], permeability: number[][], conductivity: number[][], magneticFieldY: number[][], dt: number, cellSize: number, reflectiveBoundary: boolean) {\r\n    const x = this.thread.x as number\r\n    const y = this.thread.y! as number\r\n    const gx = this.output.x as number\r\n    const gy = this.output.y as number\r\n\r\n    if (!reflectiveBoundary) {\r\n        const xAtMinBound = x < 2 ? 1 : 0\r\n        const xAtMaxBound = x + 2 >= gx ? -1 : 0\r\n        const yAtMinBound = y < 2 ? 1 : 0\r\n        const yAtMaxBound = y + 2 >= gy ? -1 : 0\r\n        if (xAtMinBound !== 0 || xAtMaxBound !== 0 || yAtMinBound !== 0 || yAtMaxBound !== 0) {\r\n            return magneticFieldY[y + yAtMinBound + yAtMaxBound][x + xAtMinBound + xAtMaxBound]\r\n        }\r\n    }\r\n\r\n    const perm = getAt(permeability, gx, gy, x, y)\r\n    const cond = getAt(conductivity, gx, gy, x, y)\r\n    const c = cond * dt / (2 * perm)\r\n    const d = 1 / (1 + c)\r\n    const alpha = (1 - c) * d\r\n    const beta = dt / (perm * cellSize) * d\r\n\r\n    // d_Z X - d_X Z, but d_Z = 0 in 2d\r\n    return alpha * getAt(magneticFieldY, gx, gy, x, y) - beta * (\r\n        -(getAt(electricFieldZ, gx, gy, x + 1, y) - getAt(electricFieldZ, gx, gy, x, y)))\r\n}\r\n\r\nexport function updateMagneticZ(this: IKernelFunctionThis, electricFieldX: number[][], electricFieldY: number[][], permeability: number[][], conductivity: number[][], magneticFieldZ: number[][], dt: number, cellSize: number, reflectiveBoundary: boolean) {\r\n    const x = this.thread.x as number\r\n    const y = this.thread.y! as number\r\n    const gx = this.output.x as number\r\n    const gy = this.output.y as number\r\n\r\n    if (!reflectiveBoundary) {\r\n        const xAtMinBound = x < 2 ? 1 : 0\r\n        const xAtMaxBound = x + 2 >= gx ? -1 : 0\r\n        const yAtMinBound = y < 2 ? 1 : 0\r\n        const yAtMaxBound = y + 2 >= gy ? -1 : 0\r\n        if (xAtMinBound !== 0 || xAtMaxBound !== 0 || yAtMinBound !== 0 || yAtMaxBound !== 0) {\r\n            return magneticFieldZ[y + yAtMinBound + yAtMaxBound][x + xAtMinBound + xAtMaxBound]\r\n        }\r\n    }\r\n\r\n    const perm = getAt(permeability, gx, gy, x, y)\r\n    const cond = getAt(conductivity, gx, gy, x, y)\r\n    const c = cond * dt / (2 * perm)\r\n    const d = 1 / (1 + c)\r\n    const alpha = (1 - c) * d\r\n    const beta = dt / (perm * cellSize) * d\r\n\r\n    // d_X Y - d_Y X\r\n    return alpha * getAt(magneticFieldZ, gx, gy, x, y) - beta * (\r\n        (getAt(electricFieldY, gx, gy, x + 1, y) - getAt(electricFieldY, gx, gy, x, y)) -\r\n        (getAt(electricFieldX, gx, gy, x, y + 1) - getAt(electricFieldX, gx, gy, x, y)))\r\n}\r\n\r\nexport function updateElectricX(this: IKernelFunctionThis, magneticFieldZ: number[][], permittivity: number[][], conductivity: number[][], electricFieldX: number[][], dt: number, cellSize: number, reflectiveBoundary: boolean) {\r\n    const x = this.thread.x as number\r\n    const y = this.thread.y! as number\r\n    const gx = this.output.x as number\r\n    const gy = this.output.y as number\r\n\r\n    if (!reflectiveBoundary) {\r\n        const xAtMinBound = x < 2 ? 1 : 0\r\n        const xAtMaxBound = x + 2 >= gx ? -1 : 0\r\n        const yAtMinBound = y < 2 ? 1 : 0\r\n        const yAtMaxBound = y + 2 >= gy ? -1 : 0\r\n        if (xAtMinBound !== 0 || xAtMaxBound !== 0 || yAtMinBound !== 0 || yAtMaxBound !== 0) {\r\n            return electricFieldX[y + yAtMinBound + yAtMaxBound][x + xAtMinBound + xAtMaxBound]\r\n        }\r\n    }\r\n\r\n    const perm = getAt(permittivity, gx, gy, x, y)\r\n    const cond = getAt(conductivity, gx, gy, x, y)\r\n    const c = cond * dt / (2 * perm)\r\n    const d = 1 / (1 + c)\r\n    const alpha = (1 - c) * d\r\n    const beta = dt / (perm * cellSize) * d\r\n\r\n    // d_Y Z - d_Z Y, but d_Z = 0 in 2d\r\n    return alpha * getAt(electricFieldX, gx, gy, x, y) + beta * (\r\n        (getAt(magneticFieldZ, gx, gy, x, y) - getAt(magneticFieldZ, gx, gy, x, y - 1)))\r\n}\r\n\r\nexport function updateElectricY(this: IKernelFunctionThis, magneticFieldZ: number[][], permittivity: number[][], conductivity: number[][], electricFieldY: number[][], dt: number, cellSize: number, reflectiveBoundary: boolean) {\r\n    const x = this.thread.x as number\r\n    const y = this.thread.y! as number\r\n    const gx = this.output.x as number\r\n    const gy = this.output.y as number\r\n\r\n    if (!reflectiveBoundary) {\r\n        const xAtMinBound = x < 2 ? 1 : 0\r\n        const xAtMaxBound = x + 2 >= gx ? -1 : 0\r\n        const yAtMinBound = y < 2 ? 1 : 0\r\n        const yAtMaxBound = y + 2 >= gy ? -1 : 0\r\n        if (xAtMinBound !== 0 || xAtMaxBound !== 0 || yAtMinBound !== 0 || yAtMaxBound !== 0) {\r\n            return electricFieldY[y + yAtMinBound + yAtMaxBound][x + xAtMinBound + xAtMaxBound]\r\n        }\r\n    }\r\n\r\n    const perm = getAt(permittivity, gx, gy, x, y)\r\n    const cond = getAt(conductivity, gx, gy, x, y)\r\n    const c = cond * dt / (2 * perm)\r\n    const d = 1 / (1 + c)\r\n    const alpha = (1 - c) * d\r\n    const beta = dt / (perm * cellSize) * d\r\n\r\n    // d_Z X - d_X Z, but d_Z = 0 in 2d\r\n    return alpha * getAt(electricFieldY, gx, gy, x, y) + beta * (\r\n        -(getAt(magneticFieldZ, gx, gy, x, y) - getAt(magneticFieldZ, gx, gy, x - 1, y)))\r\n}\r\n\r\nexport function updateElectricZ(this: IKernelFunctionThis, magneticFieldX: number[][], magneticFieldY: number[][], permittivity: number[][], conductivity: number[][], electricFieldZ: number[][], dt: number, cellSize: number, reflectiveBoundary: boolean) {\r\n    const x = this.thread.x as number\r\n    const y = this.thread.y! as number\r\n    const gx = this.output.x as number\r\n    const gy = this.output.y as number\r\n\r\n    if (!reflectiveBoundary) {\r\n        const xAtMinBound = x < 2 ? 1 : 0\r\n        const xAtMaxBound = x + 2 >= gx ? -1 : 0\r\n        const yAtMinBound = y < 2 ? 1 : 0\r\n        const yAtMaxBound = y + 2 >= gy ? -1 : 0\r\n        if (xAtMinBound !== 0 || xAtMaxBound !== 0 || yAtMinBound !== 0 || yAtMaxBound !== 0) {\r\n            return electricFieldZ[y + yAtMinBound + yAtMaxBound][x + xAtMinBound + xAtMaxBound]\r\n        }\r\n    }\r\n\r\n    const perm = getAt(permittivity, gx, gy, x, y)\r\n    const cond = getAt(conductivity, gx, gy, x, y)\r\n    const c = cond * dt / (2 * perm)\r\n    const d = 1 / (1 + c)\r\n    const alpha = (1 - c) * d\r\n    const beta = dt / (perm * cellSize) * d\r\n\r\n    // d_X Y - d_Y X\r\n    return alpha * getAt(electricFieldZ, gx, gy, x, y) + beta * (\r\n        (getAt(magneticFieldY, gx, gy, x, y) - getAt(magneticFieldY, gx, gy, x - 1, y)) -\r\n        (getAt(magneticFieldX, gx, gy, x, y) - getAt(magneticFieldX, gx, gy, x, y - 1)))\r\n}","import { GPU, IKernelRunShortcut, Texture, KernelFunction } from \"gpu.js\"\r\nimport * as k from \"./kernels/simulation\"\r\n\r\nexport type MaterialType = \"permittivity\" | \"permeability\" | \"conductivity\"\r\n\r\nexport type DrawShapeType = \"square\" | \"circle\"\r\n\r\ntype BaseDrawInfo = {\r\n    drawShape: DrawShapeType\r\n    center: [number, number]\r\n    value: number\r\n}\r\n\r\ntype DrawSquareInfo = {\r\n    drawShape: \"square\"\r\n    halfSize: number\r\n} & BaseDrawInfo\r\n\r\ntype DrawCircleInfo = {\r\n    drawShape: \"circle\"\r\n    radius: number\r\n} & BaseDrawInfo\r\n\r\nexport function makeDrawSquareInfo(center: [number, number], halfSize: number, value: number): DrawSquareInfo {\r\n    return {\r\n        drawShape: \"square\",\r\n        center,\r\n        halfSize: halfSize,\r\n        value\r\n    }\r\n}\r\n\r\nexport function makeDrawCircleInfo(center: [number, number], radius: number, value: number): DrawCircleInfo {\r\n    return {\r\n        drawShape: \"circle\",\r\n        center,\r\n        radius,\r\n        value\r\n    }\r\n}\r\n\r\nexport type DrawInfo = DrawSquareInfo | DrawCircleInfo\r\n\r\nexport type ScalarField2D = {\r\n    values: Texture\r\n    shape: [number, number]\r\n}\r\n\r\nexport type SimulationData = {\r\n    time: number\r\n    electricField: [ScalarField2D, ScalarField2D, ScalarField2D]\r\n    magneticField: [ScalarField2D, ScalarField2D, ScalarField2D]\r\n\r\n    permittivity: ScalarField2D\r\n    permeability: ScalarField2D\r\n    conductivity: ScalarField2D\r\n\r\n    electricSourceFieldZ: ScalarField2D\r\n}\r\n\r\nfunction getFieldByMaterialType(simulationData: SimulationData, materialType: MaterialType) {\r\n    switch (materialType) {\r\n        case \"permittivity\":\r\n            return simulationData.permittivity\r\n        case \"permeability\":\r\n            return simulationData.permeability\r\n        case \"conductivity\":\r\n            return simulationData.conductivity\r\n    }\r\n\r\n    throw new Error(\"Unhandled material type: \" + materialType)\r\n}\r\n\r\nexport interface Simulator {\r\n    stepElectric: (dt: number) => void\r\n    stepMagnetic: (dt: number) => void\r\n    resetFields: () => void\r\n    resetMaterials: () => void\r\n    injectSignal: (drawInfo: DrawInfo, dt: number) => void\r\n    getData: () => SimulationData\r\n}\r\n\r\nfunction memoByName<T>(makeNew: () => T) {\r\n    const memoized: { [name: string]: T } = {}\r\n\r\n    return (name: string) => {\r\n        if (!memoized[name]) {\r\n            memoized[name] = makeNew()\r\n        }\r\n        return memoized[name]\r\n    }\r\n}\r\n\r\nexport class FDTDSimulator implements Simulator {\r\n    private data: SimulationData\r\n\r\n    private updateMagnetic: [IKernelRunShortcut, IKernelRunShortcut, IKernelRunShortcut]\r\n    private updateElectric: [IKernelRunShortcut, IKernelRunShortcut, IKernelRunShortcut]\r\n\r\n    private injectSource: IKernelRunShortcut\r\n    private decaySource: IKernelRunShortcut\r\n\r\n    private makeFieldTexture: (name: string) => IKernelRunShortcut\r\n    private copyTexture: (name: string) => IKernelRunShortcut\r\n    private copyTextureWithBounds: (name: string) => IKernelRunShortcut\r\n\r\n    private drawOnTexture: { [shape: string]: (name: string) => IKernelRunShortcut }\r\n\r\n    private kernels: IKernelRunShortcut[] = []\r\n\r\n    constructor(readonly gpu: GPU, private gridSize: [number, number], private cellSize: number, public reflectiveBoundary: boolean) {\r\n        const makeKernel = (kernel: KernelFunction) => {\r\n            const runKernel = this.gpu.createKernel(kernel).setOutput(this.gridSize).setWarnVarUsage(false)\r\n                .setPipeline(true).setTactic(\"performance\").setDynamicOutput(true).setDynamicArguments(true).setPrecision(\"single\")\r\n            this.kernels.push(runKernel)\r\n            return runKernel\r\n        }\r\n        const makeKernelWithFuncs = (kernel: KernelFunction) => makeKernel(kernel).setFunctions([k.getAt])\r\n        const makeKernelWithFuncsAndConsts = (kernel: KernelFunction) => makeKernelWithFuncs(kernel).setConstants({ cellSize: cellSize })\r\n\r\n        this.makeFieldTexture = memoByName(() => makeKernel(k.makeFieldTexture))\r\n        this.copyTexture = memoByName(() => makeKernel(k.copyTexture))\r\n        this.copyTextureWithBounds = memoByName(() => makeKernel(k.copyTextureWithBounds))\r\n\r\n        const makeField = (name: string, initialValue: number): ScalarField2D => { return { values: this.makeFieldTexture(name)(initialValue) as Texture, shape: this.gridSize } }\r\n\r\n        this.data = {\r\n            time: 0,\r\n            electricField: [0, 1, 2].map(i => makeField(`e${i}`, 0)) as [ScalarField2D, ScalarField2D, ScalarField2D],\r\n            magneticField: [0, 1, 2].map(i => makeField(`m${i}`, 0)) as [ScalarField2D, ScalarField2D, ScalarField2D],\r\n            electricSourceFieldZ: makeField(\"es2\", 0),\r\n            permittivity: makeField(\"permittivity\", 1),\r\n            permeability: makeField(\"permeability\", 1),\r\n            conductivity: makeField(\"conductivity\", 0)\r\n        }\r\n\r\n        this.drawOnTexture = {\r\n            \"square\": memoByName(() => makeKernelWithFuncsAndConsts(k.drawSquare)),\r\n            \"circle\": memoByName(() => makeKernelWithFuncsAndConsts(k.drawCircle))\r\n        }\r\n\r\n        this.injectSource = makeKernelWithFuncs(k.injectSource)\r\n        this.decaySource = makeKernelWithFuncs(k.decaySource)\r\n\r\n        this.updateMagnetic = [\r\n            makeKernelWithFuncsAndConsts(k.updateMagneticX),\r\n            makeKernelWithFuncsAndConsts(k.updateMagneticY),\r\n            makeKernelWithFuncsAndConsts(k.updateMagneticZ)\r\n        ]\r\n\r\n        this.updateElectric = [\r\n            makeKernelWithFuncsAndConsts(k.updateElectricX),\r\n            makeKernelWithFuncsAndConsts(k.updateElectricY),\r\n            makeKernelWithFuncsAndConsts(k.updateElectricZ)\r\n        ]\r\n    }\r\n\r\n    setGridSize = (gridSize: [number, number]) => {\r\n        this.gridSize = gridSize\r\n\r\n        this.kernels.forEach(kernel => kernel.setOutput(gridSize))\r\n\r\n        for (let dim = 0; dim < 3; dim++) {\r\n            this.data.electricField[dim].shape = gridSize\r\n            this.data.magneticField[dim].shape = gridSize\r\n        }\r\n\r\n        const oldShape = this.data.permittivity.shape\r\n\r\n        this.data.permittivity.shape = gridSize\r\n        this.data.permeability.shape = gridSize\r\n        this.data.conductivity.shape = gridSize\r\n\r\n        this.data.permittivity.values = this.copyTextureWithBounds(\"permittivity\")(this.data.permittivity.values, oldShape, 1) as Texture\r\n        this.data.permeability.values = this.copyTextureWithBounds(\"permeability\")(this.data.permeability.values, oldShape, 1) as Texture\r\n        this.data.conductivity.values = this.copyTextureWithBounds(\"conductivity\")(this.data.conductivity.values, oldShape, 0) as Texture\r\n\r\n        this.resetFields()\r\n    }\r\n\r\n    setCellSize = (cellSize: number) => {\r\n        this.cellSize = cellSize\r\n\r\n        this.resetFields()\r\n    }\r\n\r\n    stepElectric = (dt: number) => {\r\n        const el = this.data.electricField.map(f => f.values)\r\n        const mag = this.data.magneticField.map(f => f.values)\r\n        const perm = this.data.permittivity.values\r\n        const cond = this.data.conductivity.values\r\n\r\n        const injectedElZ = this.injectSource(this.data.electricSourceFieldZ.values, el[2], dt) as Texture\r\n        this.data.electricSourceFieldZ.values = this.decaySource(this.copyTexture(\"es2\")(this.data.electricSourceFieldZ.values), dt) as Texture\r\n\r\n        // d/dt E(x, t) = curl B(x, t) / ε\r\n        this.data.electricField[0].values = this.updateElectric[0](mag[2], perm, cond, this.copyTexture(\"e0\")(el[0]), dt, this.cellSize, this.reflectiveBoundary) as Texture\r\n        this.data.electricField[1].values = this.updateElectric[1](mag[2], perm, cond, this.copyTexture(\"e1\")(el[1]), dt, this.cellSize, this.reflectiveBoundary) as Texture\r\n        this.data.electricField[2].values = this.updateElectric[2](mag[0], mag[1], perm, cond, injectedElZ, dt, this.cellSize, this.reflectiveBoundary) as Texture\r\n\r\n        this.data.time += dt / 2\r\n    }\r\n\r\n    stepMagnetic = (dt: number) => {\r\n        const el = this.data.electricField.map(f => f.values)\r\n        const mag = this.data.magneticField.map(f => f.values)\r\n        const perm = this.data.permeability.values\r\n        const cond = this.data.conductivity.values\r\n\r\n        // d/dt B(x, t) = -curl E(x, t) / µ\r\n        this.data.magneticField[0].values = this.updateMagnetic[0](el[2], perm, cond, this.copyTexture(\"m0\")(mag[0]), dt, this.cellSize, this.reflectiveBoundary) as Texture\r\n        this.data.magneticField[1].values = this.updateMagnetic[1](el[2], perm, cond, this.copyTexture(\"m1\")(mag[1]), dt, this.cellSize, this.reflectiveBoundary) as Texture\r\n        this.data.magneticField[2].values = this.updateMagnetic[2](el[0], el[1], perm, cond, this.copyTexture(\"m2\")(mag[2]), dt, this.cellSize, this.reflectiveBoundary) as Texture\r\n\r\n        this.data.time += dt / 2\r\n    }\r\n\r\n    resetFields = () => {\r\n        this.data.time = 0\r\n\r\n        for (let dim = 0; dim < 3; dim++) {\r\n            this.data.electricField[dim].values = this.makeFieldTexture(`e${dim}`)(0) as Texture\r\n            this.data.magneticField[dim].values = this.makeFieldTexture(`m${dim}`)(0) as Texture\r\n        }\r\n\r\n        this.data.electricSourceFieldZ.values = this.makeFieldTexture(\"es2\")(0) as Texture\r\n    }\r\n\r\n    resetMaterials = () => {\r\n        this.data.permeability.values = this.makeFieldTexture(\"permeability\")(1) as Texture\r\n        this.data.permittivity.values = this.makeFieldTexture(\"permittivity\")(1) as Texture\r\n        this.data.conductivity.values = this.makeFieldTexture(\"conductivity\")(0) as Texture\r\n    }\r\n\r\n    private drawShape = (field: ScalarField2D, fieldName: string, drawInfo: DrawInfo, keep: number) => {\r\n        const drawFunc = this.drawOnTexture[drawInfo.drawShape](fieldName)\r\n        const copiedValues = this.copyTexture(fieldName)(field.values)\r\n\r\n        switch (drawInfo.drawShape) {\r\n            case \"square\":\r\n                field.values = drawFunc(drawInfo.center, drawInfo.halfSize, drawInfo.value, keep, copiedValues) as Texture\r\n                break\r\n            case \"circle\":\r\n                field.values = drawFunc(drawInfo.center, drawInfo.radius, drawInfo.value, keep, copiedValues) as Texture\r\n                break\r\n            default:\r\n                throw Error(`Invalid draw shape: ${JSON.stringify(drawInfo)}`)\r\n        }\r\n    }\r\n\r\n    drawMaterial = (materialType: MaterialType, drawInfo: DrawInfo) => {\r\n        const materialField = getFieldByMaterialType(this.data, materialType)\r\n        this.drawShape(materialField, materialType, drawInfo, 0)\r\n    }\r\n\r\n    injectSignal = (drawInfo: DrawInfo, dt: number) => {\r\n        this.drawShape(this.data.electricSourceFieldZ, \"es2\", { ...drawInfo, value: drawInfo.value * dt }, 1)\r\n    }\r\n\r\n    loadPermittivity = (permittivity: number[][]) => {\r\n        this.data.permittivity.values = this.copyTextureWithBounds(\"loadPermittivity\")(permittivity, [permittivity[0].length, permittivity.length], 1) as Texture\r\n    }\r\n\r\n    loadPermeability = (permeability: number[][]) => {\r\n        this.data.permeability.values = this.copyTextureWithBounds(\"loadPermeability\")(permeability, [permeability[0].length, permeability.length], 1) as Texture\r\n    }\r\n\r\n    loadConductivity = (conductivity: number[][]) => {\r\n        this.data.conductivity.values = this.copyTextureWithBounds(\"loadConductivity\")(conductivity, [conductivity[0].length, conductivity.length], 0) as Texture\r\n    }\r\n\r\n    getData = () => this.data\r\n}","import { Simulator, makeDrawSquareInfo } from \"./simulator\"\r\n\r\nexport interface SignalSource {\r\n    inject(simulator: Simulator, dt: number): void\r\n}\r\n\r\nexport class PointSignalSource implements SignalSource {\r\n    constructor(public amplitude: number, public frequency: number, public position: [number, number], public turnOffTime?: number) {\r\n\r\n    }\r\n\r\n    inject = (simulator: Simulator, dt: number) => {\r\n        const t = simulator.getData().time\r\n        if (t >= 0 && (this.turnOffTime === undefined || t <= this.turnOffTime)) {\r\n            const amplitude = -this.amplitude * Math.cos(2 * Math.PI * this.frequency * t)\r\n            const drawInfo = makeDrawSquareInfo(this.position, 1, amplitude)\r\n            simulator.injectSignal(drawInfo, dt)\r\n        }\r\n    }\r\n}\r\n\r\n","import React, { ReactElement, useState, useCallback, useMemo, useRef, useEffect, MouseEventHandler } from \"react\"\r\nimport { SimulatorMap, SimulationSettings } from \"./serialization\"\r\nimport { FDTDSimulator, DrawShapeType } from \"./simulator\"\r\nimport { SignalSource, PointSignalSource } from \"./sources\"\r\nimport * as maps from \"./maps\"\r\nimport { QualityPreset } from \"./util\"\r\n\r\nexport type CollapsibleContainerProps = {\r\n    children?: ReactElement<any> | ReactElement<any>[]\r\n    id?: string\r\n    className?: string\r\n    style?: React.CSSProperties\r\n    buttonStyle?: React.CSSProperties\r\n    title?: string\r\n    collapsed: boolean\r\n    setCollapsed: (collapsed: boolean) => void\r\n}\r\n\r\nexport function CollapsibleContainer(props: CollapsibleContainerProps) {\r\n    const { collapsed, setCollapsed, id, className, buttonStyle, style, children, title } = props\r\n\r\n    return (\r\n        <div id={id} className={className} style={{ textAlign: \"center\", background: \"rgb(33, 33, 33)\", fontWeight: \"lighter\", color: \"white\", height: \"400px\", ...style }}>\r\n            <button onClick={e => setCollapsed(!collapsed)} style={{ width: \"30px\", float: \"left\", height: \"100%\", background: \"rgb(50, 50, 50)\", border: \"0px\", color: \"white\", fontWeight: \"bold\", fontSize: \"20px\", cursor: \"pointer\", ...buttonStyle }}>\r\n                {collapsed ? \"<\" : \">\"}\r\n            </button>\r\n            <div style={{ float: \"right\" }}>\r\n                {!collapsed && (<div>\r\n                    <div style={{ fontSize: \"20px\", marginTop: \"4px\" }}>{title}</div>\r\n                    {children}\r\n                </div>)}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport type LabeledSliderProps = {\r\n    label: string\r\n    value: number,\r\n    setValue: (value: number) => void\r\n    min: number\r\n    max: number\r\n    step: number\r\n    allowNegative?: boolean\r\n    logarithmic?: boolean\r\n    displayDigits?: number\r\n}\r\n\r\nexport function LabeledSlider(props: LabeledSliderProps) {\r\n    const { value, setValue, allowNegative, logarithmic, displayDigits } = props\r\n    const absValue = logarithmic ? Math.log2(Math.abs(value)) : Math.abs(value)\r\n\r\n    const [negative, setNegative] = useState(value < 0)\r\n\r\n    const rangeSliderRef = useRef<HTMLInputElement>(null)\r\n\r\n    const updateValue = useCallback(() => {\r\n        if (rangeSliderRef.current) {\r\n            let newValue = parseFloat(rangeSliderRef.current.value)\r\n            if (logarithmic) {\r\n                newValue = Math.pow(2, newValue)\r\n            }\r\n\r\n            setValue((negative ? -1 : 1) * newValue)\r\n        }\r\n    }, [setValue, negative, logarithmic, rangeSliderRef])\r\n\r\n    useEffect(() => updateValue(), [negative, updateValue])\r\n\r\n    const displayValue = (displayDigits !== undefined) ? value.toFixed(displayDigits) : value\r\n\r\n    return (\r\n        <div>\r\n            <label>{props.label}</label>\r\n            {allowNegative && <>\r\n                <input style={{ marginLeft: \"10px\" }} type=\"checkbox\" checked={negative} onChange={e => setNegative(e.target.checked)} /><label>Negative</label>\r\n            </>}\r\n            <div>\r\n                <input type=\"range\" ref={rangeSliderRef} min={props.min} max={props.max} value={absValue} step={props.step}\r\n                    onChange={updateValue} style={{ height: 10, width: \"100%\" }} />\r\n                <div style={{ textAlign: \"center\", lineHeight: 0.2, marginBottom: \"7px\" }}>\r\n                    {displayValue}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport type OptionSelectorProps = {\r\n    options: string[]\r\n    selectedOption: number\r\n    setSelectedOption: (selectedOption: number) => void\r\n    style?: React.CSSProperties\r\n    buttonStyle?: React.CSSProperties\r\n}\r\n\r\nexport function OptionSelector(props: OptionSelectorProps) {\r\n    return (\r\n        <div style={props.style}>\r\n            {props.options.map((option, optionIndex) =>\r\n                <button key={option} style={{\r\n                    backgroundColor: \"rgb(50, 50, 50)\",\r\n                    color: \"white\",\r\n                    border: optionIndex === props.selectedOption ? \"3px solid rgb(0, 150, 255)\" : \"0\",\r\n                    height: \"30px\",\r\n                    width: \"70px\",\r\n                    overflow: \"hidden\",\r\n                    textOverflow: \"hidden\",\r\n                    ...props.buttonStyle\r\n                }}\r\n                    onClick={e => props.setSelectedOption(optionIndex)}>\r\n                    {option}\r\n                </button>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport type ExamplesComponentProps = {\r\n    simulator: FDTDSimulator | null\r\n\r\n    dt: number\r\n    simulationSpeed: number\r\n    cellSize: number\r\n    gridSize: [number, number]\r\n\r\n    setGridSizeLongest: (gridSizeLongest: number) => void\r\n    setDt: (dt: number) => void\r\n    setCellSize: (cellSize: number) => void\r\n    setSimulationSpeed: (simulationSpeed: number) => void\r\n    setSources: (sources: SignalSource[]) => void\r\n}\r\n\r\nexport function ExamplesComponent(props: ExamplesComponentProps) {\r\n    const { simulator, setGridSizeLongest, setDt, setCellSize, setSimulationSpeed, setSources } = props\r\n\r\n    const loadMap = useCallback((simulatorMap: SimulatorMap) => {\r\n        if (simulator) {\r\n            simulator.resetFields()\r\n            simulator.loadPermeability(simulatorMap.materialMap.permeability)\r\n            simulator.loadPermittivity(simulatorMap.materialMap.permittivity)\r\n            simulator.loadConductivity(simulatorMap.materialMap.conductivity)\r\n        }\r\n\r\n        const loadedSources = simulatorMap.sourceDescriptors.map(desc => {\r\n            if (desc.type === \"point\") {\r\n                return new PointSignalSource(desc.amplitude, desc.frequency, desc.position, desc.turnOffTime)\r\n            }\r\n\r\n            throw new Error(`Unsupported source type: ${desc.type}`)\r\n        })\r\n\r\n        setCellSize(simulatorMap.simulationSettings.cellSize)\r\n        setDt(simulatorMap.simulationSettings.dt)\r\n        setSimulationSpeed(simulatorMap.simulationSettings.simulationSpeed)\r\n        setGridSizeLongest(Math.max(simulatorMap.simulationSettings.gridSize[0], simulatorMap.simulationSettings.gridSize[1]))\r\n        setSources(loadedSources)\r\n    }, [simulator, setCellSize, setDt, setSimulationSpeed, setGridSizeLongest, setSources])\r\n\r\n    const simulationSettings = useMemo<SimulationSettings>(() => {\r\n        return {\r\n            dt: props.dt,\r\n            cellSize: props.cellSize,\r\n            gridSize: props.gridSize,\r\n            simulationSpeed: props.simulationSpeed\r\n        }\r\n    }, [props.dt, props.cellSize, props.gridSize, props.simulationSpeed])\r\n\r\n    return (\r\n        <div style={{ padding: \"5px\", width: \"150px\" }}>\r\n            <div><button onClick={_ => loadMap(maps.empty(simulationSettings))} style={{ backgroundColor: \"rgb(50, 50, 50)\", width: \"100%\", border: \"0px\", color: \"white\", margin: \"2px\" }}>Empty</button></div>\r\n            <div><button onClick={_ => loadMap(maps.doubleSlit(simulationSettings))} style={{ backgroundColor: \"rgb(50, 50, 50)\", width: \"100%\", border: \"0px\", color: \"white\", margin: \"2px\" }}>Double slit</button></div>\r\n            <div><button onClick={_ => loadMap(maps.fiberOptics(simulationSettings))} style={{ backgroundColor: \"rgb(50, 50, 50)\", width: \"100%\", border: \"0px\", color: \"white\", margin: \"2px\" }}>Fiber optics</button></div>\r\n            <div><button onClick={_ => loadMap(maps.lens(simulationSettings))} style={{ backgroundColor: \"rgb(50, 50, 50)\", width: \"100%\", border: \"0px\", color: \"white\", margin: \"2px\" }}>Lens</button></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport type SettingsComponentProps = {\r\n    gridSizeLongest: number\r\n    setGridSizeLongest: (gridSizeLongest: number) => void\r\n\r\n    dt: number\r\n    setDt: (dt: number) => void\r\n\r\n    cellSize: number\r\n    setCellSize: (cellSize: number) => void\r\n\r\n    resolutionScale: number\r\n    setResolutionScale: (resolutionScale: number) => void\r\n\r\n    simulationSpeed: number\r\n    setSimulationSpeed: (simulationSpeed: number) => void\r\n\r\n    reflectiveBoundary: boolean\r\n    setReflectiveBoundary: (reflectiveBoundary: boolean) => void\r\n\r\n    qualityPresets: { [presetName: string]: QualityPreset }\r\n}\r\n\r\nexport function SettingsComponent(props: SettingsComponentProps) {\r\n    const { qualityPresets, setCellSize, setGridSizeLongest, setResolutionScale, setDt } = props\r\n\r\n    const onPresetClicked = useCallback((preset: QualityPreset) => {\r\n        setCellSize(preset.cellSize)\r\n        setGridSizeLongest(preset.gridSizeLongest)\r\n        setResolutionScale(preset.resolutionScale)\r\n        setDt(preset.dt)\r\n    }, [setCellSize, setGridSizeLongest, setResolutionScale, setDt])\r\n\r\n    return (\r\n        <div style={{ padding: \"5px\" }}>\r\n            <div>Quality presets</div>\r\n            <div>\r\n                {Object.keys(qualityPresets).map(presetName =>\r\n                    <button key={presetName} onClick={_ => onPresetClicked(qualityPresets[presetName])}\r\n                        style={{ backgroundColor: \"rgb(50, 50, 50)\", border: \"0px\", color: \"white\", margin: \"2px\" }}>\r\n                        {presetName}\r\n                    </button>\r\n                )}\r\n            </div>\r\n            <LabeledSlider label=\"Grid length\" value={props.gridSizeLongest} setValue={props.setGridSizeLongest} min={100} max={2000} step={100} />\r\n            <LabeledSlider label=\"Time step size\" value={props.dt} setValue={props.setDt} min={0.001} max={0.1} step={0.001} allowNegative={true} />\r\n            <LabeledSlider label=\"Cell size\" value={props.cellSize} setValue={props.setCellSize} min={0.002} max={0.2} step={0.001} />\r\n            <LabeledSlider label=\"Resolution scale\" value={props.resolutionScale} setValue={props.setResolutionScale} min={0.1} max={2} step={0.1} />\r\n            <LabeledSlider label=\"Simulation speed\" value={props.simulationSpeed} setValue={props.setSimulationSpeed} min={0} max={10} step={0.1} />\r\n            <input type=\"checkbox\" checked={props.reflectiveBoundary} onChange={e => props.setReflectiveBoundary(e.target.checked)} />Reflective boundary\r\n        </div>\r\n    )\r\n}\r\n\r\ntype ImageButtonProps = {\r\n    onClick?: MouseEventHandler<HTMLButtonElement>\r\n    src?: string\r\n    size?: number\r\n    highlight?: boolean\r\n}\r\n\r\nexport function ImageButton(props: ImageButtonProps) {\r\n    const size = props.size || 48\r\n\r\n    return (\r\n        <button onClick={props.onClick} style={{ margin: \"2px\", padding: \"5px\", background: \"transparent\", border: props.highlight ? \"2px solid rgb(0, 150, 255)\" : \"2px solid transparent\", borderRadius: \"10px\", lineHeight: 0 }}>\r\n            <img width={size} height={size} src={props.src} alt=\"\" style={{ width: size, height: size }} />\r\n        </button>\r\n    )\r\n}\r\n\r\nexport type ShareComponentProps = {\r\n    shareUrl: string\r\n    shareTitle: string\r\n    shareText: string\r\n}\r\n\r\nexport function ShareComponent(props: ShareComponentProps) {\r\n    const { shareTitle, shareText, shareUrl } = props\r\n\r\n    const shareUrlTextRef = useRef<HTMLInputElement>(null)\r\n\r\n    const onCopyClicked = useCallback(() => {\r\n        if (shareUrlTextRef.current) {\r\n            shareUrlTextRef.current.select()\r\n            document.execCommand(\"copy\")\r\n        }\r\n    }, [shareUrlTextRef])\r\n\r\n    const onShareClicked = useCallback(() => {\r\n        const nav = navigator as any\r\n        if (nav.share) {\r\n            nav.share({\r\n                title: shareTitle,\r\n                text: shareText,\r\n                url: shareUrl\r\n            }).then(() => console.log(\"Shared\")).catch((err: any) => console.error(`Share failed: ${err}`))\r\n        }\r\n    }, [shareUrl, shareTitle, shareText])\r\n\r\n    return (\r\n        <div style={{ padding: \"5px\" }}>\r\n            {shareUrl &&\r\n                <>\r\n                    <div>\r\n                        <input ref={shareUrlTextRef} readOnly type=\"text\" value={shareUrl} style={{ background: \"rgba(50, 50, 50, 100)\", border: \"0px\", color: \"white\", margin: \"2px\", width: \"70%\" }} />\r\n                        <button onClick={onCopyClicked} style={{ background: \"rgba(50, 50, 50, 100)\", border: \"0px\", color: \"white\", margin: \"2px\" }}>Copy</button>\r\n                    </div>\r\n                    <div>\r\n                        {(navigator as any).share !== undefined && <button onClick={onShareClicked} style={{ background: \"rgba(50, 50, 50, 100)\", border: \"0px\", width: \"80%\", fontSize: \"24px\", color: \"white\", margin: \"2px\" }}>Share</button>}\r\n                    </div>\r\n                </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport type MaterialBrushMenuProps = {\r\n    materialBrushSize: number\r\n    setMaterialBrushSize: (brushSize: number) => void\r\n\r\n    permeabilityBrushValue: number\r\n    setPermeabilityBrushValue: (brushValue: number) => void\r\n\r\n    permittivityBrushValue: number\r\n    setPermittivityBrushValue: (brushValue: number) => void\r\n\r\n    conductivityBrushValue: number\r\n    setConductivityBrushValue: (brushValue: number) => void\r\n\r\n    drawShapeType: DrawShapeType\r\n    setDrawShapeType: (drawShapeType: DrawShapeType) => void\r\n\r\n    snapInput: boolean\r\n    setSnapInput: (snapInput: boolean) => void\r\n}\r\n\r\nexport function MaterialBrushMenu(props: MaterialBrushMenuProps) {\r\n    const { drawShapeType, setDrawShapeType } = props\r\n\r\n    const drawShapeTypeIndex = useMemo(() => drawShapeType === \"square\" ? 0 : 1, [drawShapeType])\r\n    const setDrawShapeTypeIndex = useCallback((index: number) => setDrawShapeType(index === 0 ? \"square\" : \"circle\"), [setDrawShapeType])\r\n\r\n    const brushSizeLabel = useMemo(() => drawShapeType === \"square\" ? \"Brush size\" : \"Brush radius\", [drawShapeType])\r\n\r\n    return (\r\n        <div style={{ padding: \"10px\" }}>\r\n            <input type=\"checkbox\" checked={props.snapInput} onChange={e => props.setSnapInput(e.target.checked)} /><label>Snap to 45° line</label>\r\n            <OptionSelector buttonStyle={{ height: \"24px\" }} options={[\"Square\", \"Circle\"]} selectedOption={drawShapeTypeIndex} setSelectedOption={setDrawShapeTypeIndex} />\r\n            <div>\r\n                <LabeledSlider label={brushSizeLabel} value={props.materialBrushSize} setValue={props.setMaterialBrushSize} min={1} max={100} step={1} />\r\n                <LabeledSlider label=\"ε value\" value={props.permittivityBrushValue} setValue={props.setPermittivityBrushValue} min={-1} max={10} step={0.1} allowNegative={true} logarithmic={true} displayDigits={1} />\r\n                <LabeledSlider label=\"µ value\" value={props.permeabilityBrushValue} setValue={props.setPermeabilityBrushValue} min={-1} max={10} step={0.1} allowNegative={true} logarithmic={true} displayDigits={1} />\r\n                <LabeledSlider label=\"σ value\" value={props.conductivityBrushValue} setValue={props.setConductivityBrushValue} min={0} max={20} step={0.25} allowNegative={true} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport type SignalBrushMenuProps = {\r\n    signalBrushSize: number\r\n    setSignalBrushSize: (brushSize: number) => void\r\n\r\n    signalBrushValue: number\r\n    setSignalBrushValue: (brushValue: number) => void\r\n\r\n    signalFrequency: number\r\n    setSignalFrequency: (signalFrequency: number) => void\r\n\r\n    drawShapeType: DrawShapeType\r\n    setDrawShapeType: (drawShapeType: DrawShapeType) => void\r\n\r\n    snapInput: boolean\r\n    setSnapInput: (snapInput: boolean) => void\r\n}\r\n\r\nexport function SignalBrushMenu(props: SignalBrushMenuProps) {\r\n    const { drawShapeType, setDrawShapeType } = props\r\n\r\n    const drawShapeTypeIndex = useMemo(() => drawShapeType === \"square\" ? 0 : 1, [drawShapeType])\r\n    const setDrawShapeTypeIndex = useCallback((index: number) => setDrawShapeType(index === 0 ? \"square\" : \"circle\"), [setDrawShapeType])\r\n\r\n    const brushSizeLabel = useMemo(() => drawShapeType === \"square\" ? \"Brush size\" : \"Brush radius\", [drawShapeType])\r\n\r\n    return (\r\n        <div style={{ padding: \"10px\" }}>\r\n            <input type=\"checkbox\" checked={props.snapInput} onChange={e => props.setSnapInput(e.target.checked)} /><label>Snap to 45° line</label>\r\n            <OptionSelector buttonStyle={{ height: \"24px\" }} options={[\"Square\", \"Circle\"]} selectedOption={drawShapeTypeIndex} setSelectedOption={setDrawShapeTypeIndex} />\r\n            <div>\r\n                <LabeledSlider label={brushSizeLabel} value={props.signalBrushSize} setValue={props.setSignalBrushSize} min={1} max={100} step={1} />\r\n                <LabeledSlider label=\"Signal amplitude\" value={props.signalBrushValue} setValue={props.setSignalBrushValue} min={1} max={100} step={1} />\r\n                <LabeledSlider label=\"Signal frequency\" value={props.signalFrequency} setValue={props.setSignalFrequency} min={0} max={25} step={0.25} />\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { SimulatorMap, MaterialMap, SourceDescriptor, SimulationSettings } from \"./serialization\"\r\n\r\nexport function empty(simulationSettings: SimulationSettings): SimulatorMap {\r\n    const materialMap: MaterialMap = {\r\n        permittivity: [],\r\n        permeability: [],\r\n        conductivity: [],\r\n        shape: simulationSettings.gridSize\r\n    }\r\n\r\n    for (let y = 0; y < simulationSettings.gridSize[1]; y++) {\r\n        materialMap.permittivity.push(new Array(simulationSettings.gridSize[0]).fill(1))\r\n        materialMap.permeability.push(new Array(simulationSettings.gridSize[0]).fill(1))\r\n        materialMap.conductivity.push(new Array(simulationSettings.gridSize[0]).fill(0))\r\n    }\r\n\r\n    const sourceDescriptors: SourceDescriptor[] = []\r\n\r\n    return {\r\n        sourceDescriptors: sourceDescriptors,\r\n        simulationSettings: simulationSettings,\r\n        materialMap: materialMap\r\n    }\r\n}\r\n\r\nexport function doubleSlit(simulationSettings: SimulationSettings): SimulatorMap {\r\n    const materialMap: MaterialMap = {\r\n        permittivity: [],\r\n        permeability: [],\r\n        conductivity: [],\r\n        shape: simulationSettings.gridSize\r\n    }\r\n\r\n    const slitCenterX = Math.round(0.5 * simulationSettings.gridSize[0])\r\n\r\n    const slitSize = 0.2 / simulationSettings.cellSize\r\n\r\n    for (let y = 0; y < simulationSettings.gridSize[1]; y++) {\r\n        const isWallRow = Math.abs(y - simulationSettings.gridSize[1] / 5) < 2\r\n        const permittivityRow = new Array(simulationSettings.gridSize[0]).fill(isWallRow ? 100 : 1)\r\n\r\n        if (isWallRow) {\r\n            for (let x = slitCenterX - slitSize * 2; x < slitCenterX - slitSize; x++) {\r\n                permittivityRow[x] = 1\r\n            }\r\n\r\n            for (let x = slitCenterX + slitSize * 2; x > slitCenterX + slitSize; x--) {\r\n                permittivityRow[x] = 1\r\n            }\r\n        }\r\n\r\n        materialMap.permittivity.push(permittivityRow)\r\n        materialMap.permeability.push(new Array(simulationSettings.gridSize[0]).fill(1))\r\n        materialMap.conductivity.push(new Array(simulationSettings.gridSize[0]).fill(0))\r\n    }\r\n\r\n    const sourceDescriptors: SourceDescriptor[] = [{\r\n        type: \"point\",\r\n        amplitude: 30000,\r\n        frequency: 3,\r\n        position: [Math.round(slitCenterX), Math.round(simulationSettings.gridSize[1] / 15)]\r\n    }]\r\n\r\n    return {\r\n        sourceDescriptors: sourceDescriptors,\r\n        simulationSettings: simulationSettings,\r\n        materialMap: materialMap\r\n    }\r\n}\r\n\r\nexport function fiberOptics(simulationSettings: SimulationSettings): SimulatorMap {\r\n    const materialMap: MaterialMap = {\r\n        permittivity: [],\r\n        permeability: [],\r\n        conductivity: [],\r\n        shape: simulationSettings.gridSize\r\n    }\r\n\r\n    for (let y = 0; y < simulationSettings.gridSize[1]; y++) {\r\n        materialMap.permittivity.push(new Array(simulationSettings.gridSize[0]).fill(1))\r\n        materialMap.permeability.push(new Array(simulationSettings.gridSize[0]).fill(1))\r\n        materialMap.conductivity.push(new Array(simulationSettings.gridSize[0]).fill(0))\r\n    }\r\n\r\n    function getCurvePoint(t: number): [number, number] {\r\n        return [\r\n            Math.round(simulationSettings.gridSize[0] * 0.5 + simulationSettings.gridSize[0] / 5 * 0.5 / (2 * t + 1) * -Math.sin(2 * Math.PI * t)),\r\n            Math.round(simulationSettings.gridSize[1] * (1 / 10 + t * (1 - 2 / 10)))\r\n        ]\r\n    }\r\n\r\n    const numPoints = 100\r\n    const thickness = 0.04 / simulationSettings.cellSize\r\n    for (let t = 0; t < numPoints; t++) {\r\n        const pos = getCurvePoint(t / numPoints)\r\n\r\n        for (let x = -thickness + pos[0]; x < thickness + pos[0]; x++) {\r\n            for (let y = -thickness + pos[1]; y < thickness + pos[1]; y++) {\r\n                if (x >= 0 && y >= 0 && x < simulationSettings.gridSize[0] && y < simulationSettings.gridSize[1]) {\r\n                    materialMap.permittivity[y][x] = 2\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const endPoint = getCurvePoint(1)\r\n\r\n    const sourceDescriptors: SourceDescriptor[] = [{\r\n        type: \"point\",\r\n        amplitude: 10000,\r\n        frequency: 5,\r\n        position: [endPoint[0] - 1, endPoint[1]],\r\n        turnOffTime: 0.5\r\n    }, {\r\n        type: \"point\",\r\n        amplitude: 10000,\r\n        frequency: 5,\r\n        position: [endPoint[0] + 2, endPoint[1]],\r\n        turnOffTime: 0.5\r\n    },]\r\n\r\n    return {\r\n        sourceDescriptors: sourceDescriptors,\r\n        simulationSettings: simulationSettings,\r\n        materialMap: materialMap\r\n    }\r\n}\r\n\r\nexport function lens(simulationSettings: SimulationSettings): SimulatorMap {\r\n    const materialMap: MaterialMap = {\r\n        permittivity: [],\r\n        permeability: [],\r\n        conductivity: [],\r\n        shape: simulationSettings.gridSize\r\n    }\r\n\r\n    const center = [simulationSettings.gridSize[0] * 0.6, simulationSettings.gridSize[1] / 2]\r\n\r\n    function isLensPoint(point: [number, number]) {\r\n        const dx = point[0] - center[0]\r\n        const dy = point[1] - center[1]\r\n\r\n        return 4 * dx * dx + dy * dy < simulationSettings.gridSize[0] * simulationSettings.gridSize[0] / (10 * 10)\r\n    }\r\n\r\n    for (let y = 0; y < simulationSettings.gridSize[1]; y++) {\r\n        materialMap.permittivity.push([])\r\n        materialMap.permeability.push(new Array(simulationSettings.gridSize[0]).fill(1))\r\n        materialMap.conductivity.push(new Array(simulationSettings.gridSize[0]).fill(0))\r\n        for (let x = 0; x < simulationSettings.gridSize[0]; x++) {\r\n            materialMap.permittivity[y].push(isLensPoint([x, y]) ? 3 : 1)\r\n        }\r\n    }\r\n\r\n    const sourceDescriptors: SourceDescriptor[] = [{\r\n        type: \"point\",\r\n        amplitude: 30000,\r\n        frequency: 2,\r\n        position: [Math.round(simulationSettings.gridSize[0] / 10), Math.round(simulationSettings.gridSize[1] / 2)],\r\n        turnOffTime: 0.5\r\n    }]\r\n\r\n    return {\r\n        sourceDescriptors: sourceDescriptors,\r\n        simulationSettings: simulationSettings,\r\n        materialMap: materialMap\r\n    }\r\n}","export function toggleFullScreen() {\r\n    if (!document.fullscreenElement) {\r\n        document.documentElement.requestFullscreen()\r\n    } else if (document.exitFullscreen) {\r\n        document.exitFullscreen()\r\n    }\r\n}\r\n\r\nexport function clamp(min: number, max: number, value: number) {\r\n    return Math.max(min, Math.min(max, value))\r\n}\r\n\r\nexport type QualityPreset = {\r\n    dt: number\r\n    cellSize: number\r\n    gridSizeLongest: number\r\n    resolutionScale: number\r\n}","import { IKernelFunctionThis } from \"gpu.js\"\r\n\r\nexport function getAt(field: number[][], shapeX: number, shapeY: number, x: number, y: number) {\r\n    if (x < 0 || x >= shapeX || y < 0 || y >= shapeY) {\r\n        return 0\r\n    }\r\n\r\n    return field[y][x]\r\n}\r\n\r\nexport function nativeSmoothStep(x: number) {\r\n    return (x <= 0 ? 0 : (x >= 1 ? 1 : 3 * x * x - 2 * x * x * x))\r\n}\r\n\r\nexport function drawGpu(this: IKernelFunctionThis, electricFieldX: number[][], electricFieldY: number[][], electricFieldZ: number[][],\r\n    magneticFieldX: number[][], magneticFieldY: number[][], magneticFieldZ: number[][],\r\n    permittivity: number[][], permeability: number[][], conductivity: number[][], gridSize: number[], cellSize: number) {\r\n    const gx = gridSize[0]\r\n    const gy = gridSize[1]\r\n\r\n    const x = gx * this.thread.x! / (this.output.x as number)\r\n    const y = gy * (1 - this.thread.y! / (this.output.y as number))\r\n\r\n    // Make brighter for finer grids. As there are more cells, the energy is spread out instead\r\n    // of concentrated in less cells so we need to make it brighter.\r\n    const fieldBrightness = (0.02 * 0.02) / (cellSize * cellSize)\r\n\r\n    const eX = getAt(electricFieldX, gx, gy, x, y)\r\n    const eY = getAt(electricFieldY, gx, gy, x, y)\r\n    const eZ = getAt(electricFieldZ, gx, gy, x, y)\r\n    const eEnergy = fieldBrightness * fieldBrightness * (eX * eX + eY * eY + eZ * eZ)\r\n\r\n    // Magnetic field is offset from electric field, so get value at -0.5 by interpolating 0 and 1\r\n    const mX = getAt(magneticFieldX, gx, gy, x - 0.5, y - 0.5)\r\n    const mY = getAt(magneticFieldY, gx, gy, x - 0.5, y - 0.5)\r\n    const mZ = getAt(magneticFieldZ, gx, gy, x - 0.5, y - 0.5)\r\n    const mEnergy = fieldBrightness * fieldBrightness * (mX * mX + mY * mY + mZ * mZ)\r\n\r\n    // Material constants are between 1 and 1000, map to [0, 1] using tanh(0.5 * (x-1))\r\n    const permittivityValue = (2 / (1 + Math.exp(-0.5 * (getAt(permittivity, gx, gy, x, y) - 1))) - 1)\r\n    const permeabilityValue = (2 / (1 + Math.exp(-0.5 * (getAt(permeability, gx, gy, x, y) - 1))) - 1)\r\n    const conductivityValue = getAt(conductivity, gx, gy, x, y) / 10\r\n\r\n    // Display material as circles. Permittivity and permeability are offset circles from each other.\r\n    const tileFactorX = Math.min(1, 1 / Math.round(2 * gx / this.output.x))\r\n    const tileFactorY = Math.min(1, 1 / Math.round(2 * gy / this.output.y!))\r\n\r\n    const dxPermittivity = ((tileFactorX * x) % 1) - 0.5\r\n    const dyPermittivity = ((tileFactorY * y) % 1) - 0.5\r\n\r\n    const circleDistPermittivity = (dxPermittivity * dxPermittivity + dyPermittivity * dyPermittivity) * Math.sqrt(2 * Math.PI)\r\n\r\n    const dxPermeability = ((tileFactorX * x + 0.5) % 1) - 0.5\r\n    const dyPermeability = ((tileFactorY * y + 0.5) % 1) - 0.5\r\n    const circleDistPermeability = (dxPermeability * dxPermeability + dyPermeability * dyPermeability) * Math.sqrt(2 * Math.PI)\r\n\r\n    const dxConductivity = Math.abs(((tileFactorX * x) % 1) - 0.5)\r\n    const dyConductivity = Math.abs(((tileFactorY * y) % 1) - 0.5)\r\n\r\n    // Smoothstep\r\n    const bgPermittivity = -nativeSmoothStep(circleDistPermittivity)\r\n    const bgPermeability = -nativeSmoothStep(circleDistPermeability)\r\n    const backgroundPermittivity = permittivityValue >= 0.1 ? 1 + bgPermittivity : bgPermittivity\r\n    const backgroundPermeability = permeabilityValue >= 0.1 ? 1 + bgPermeability : bgPermeability\r\n    const backgroundConductivity = 0.5 * (conductivityValue >= 0 ? conductivityValue * nativeSmoothStep(dxConductivity) : -conductivityValue * nativeSmoothStep(dyConductivity))\r\n\r\n    this.color(\r\n        Math.min(1, backgroundConductivity + eEnergy + 0.8 * backgroundPermittivity * permittivityValue),\r\n        Math.min(1, backgroundConductivity + eEnergy + mEnergy),\r\n        Math.min(1, backgroundConductivity + mEnergy + 0.8 * backgroundPermeability * permeabilityValue))\r\n}\r\n\r\n// On CPU we can't use float indices so round the coordinates\r\nexport function drawCpu(this: IKernelFunctionThis, electricFieldX: number[][], electricFieldY: number[][], electricFieldZ: number[][],\r\n    magneticFieldX: number[][], magneticFieldY: number[][], magneticFieldZ: number[][],\r\n    permittivity: number[][], permeability: number[][], conductivity: number[][], gridSize: number[], cellSize: number) {\r\n    const gx = gridSize[0]\r\n    const gy = gridSize[1]\r\n\r\n    const fx = gx * this.thread.x! / (this.output.x as number)\r\n    const fy = gy * (1 - this.thread.y! / (this.output.y as number))\r\n    const x = Math.round(fx)\r\n    const y = Math.round(fy)\r\n\r\n    // Make brighter for finer grids. As there are more cells, the energy is spread out instead\r\n    // of concentrated in less cells so we need to make it brighter.\r\n    const fieldBrightness = (0.02 * 0.02) / (cellSize * cellSize)\r\n\r\n    const eX = getAt(electricFieldX, gx, gy, x, y)\r\n    const eY = getAt(electricFieldY, gx, gy, x, y)\r\n    const eZ = getAt(electricFieldZ, gx, gy, x, y)\r\n    const eEnergy = fieldBrightness * fieldBrightness * (eX * eX + eY * eY + eZ * eZ)\r\n\r\n    // Magnetic field is offset from electric field, so get value at -0.5 by interpolating 0 and 1\r\n    const mX = getAt(magneticFieldX, gx, gy, x, y)\r\n    const mY = getAt(magneticFieldY, gx, gy, x, y)\r\n    const mZ = getAt(magneticFieldZ, gx, gy, x, y)\r\n    const mEnergy = fieldBrightness * fieldBrightness * (mX * mX + mY * mY + mZ * mZ)\r\n\r\n    // Material constants are between 1 and 1000, map to [0, 1] using tanh(0.5 * (x-1))\r\n    const permittivityValue = (2 / (1 + Math.exp(-0.5 * (getAt(permittivity, gx, gy, x, y) - 1))) - 1)\r\n    const permeabilityValue = (2 / (1 + Math.exp(-0.5 * (getAt(permeability, gx, gy, x, y) - 1))) - 1)\r\n    const conductivityValue = getAt(conductivity, gx, gy, x, y) / 10\r\n\r\n    // Display material as circles. Permittivity and permeability are offset circles from each other.\r\n    const tileFactorX = Math.min(1, 1 / Math.round(2 * gx / this.output.x))\r\n    const tileFactorY = Math.min(1, 1 / Math.round(2 * gy / this.output.y!))\r\n\r\n    const dxPermittivity = ((tileFactorX * fx) % 1) - 0.5\r\n    const dyPermittivity = ((tileFactorY * fy) % 1) - 0.5\r\n\r\n    const circleDistPermittivity = (dxPermittivity * dxPermittivity + dyPermittivity * dyPermittivity) * Math.sqrt(2 * Math.PI)\r\n\r\n    const dxPermeability = ((tileFactorX * fx + 0.5) % 1) - 0.5\r\n    const dyPermeability = ((tileFactorY * fy + 0.5) % 1) - 0.5\r\n    const circleDistPermeability = (dxPermeability * dxPermeability + dyPermeability * dyPermeability) * Math.sqrt(2 * Math.PI)\r\n\r\n    const dxConductivity = Math.abs(((tileFactorX * fx) % 1) - 0.5)\r\n    const dyConductivity = Math.abs(((tileFactorY * fy) % 1) - 0.5)\r\n\r\n    // Smoothstep\r\n    const bgPermittivity = -nativeSmoothStep(circleDistPermittivity)\r\n    const bgPermeability = -nativeSmoothStep(circleDistPermeability)\r\n    const backgroundPermittivity = permittivityValue >= 0.1 ? 1 + bgPermittivity : bgPermittivity\r\n    const backgroundPermeability = permeabilityValue >= 0.1 ? 1 + bgPermeability : bgPermeability\r\n    const backgroundConductivity = 0.5 * (conductivityValue >= 0 ? conductivityValue * nativeSmoothStep(dxConductivity) : -conductivityValue * nativeSmoothStep(dyConductivity))\r\n\r\n    this.color(\r\n        Math.min(1, backgroundConductivity + eEnergy + 0.8 * backgroundPermittivity * permittivityValue),\r\n        Math.min(1, backgroundConductivity + eEnergy + mEnergy),\r\n        Math.min(1, backgroundConductivity + mEnergy + 0.8 * backgroundPermeability * permeabilityValue))\r\n}","import * as pako from \"pako\"\r\nimport { SignalSource, PointSignalSource } from \"./sources\"\r\n\r\nexport const currentSimulatorMapVersion = 1\r\n\r\nexport type SimulationSettings = {\r\n    dt: number\r\n    gridSize: [number, number]\r\n    simulationSpeed: number\r\n    cellSize: number\r\n}\r\n\r\nexport type MaterialMap = {\r\n    permittivity: number[][]\r\n    permeability: number[][]\r\n    conductivity: number[][]\r\n    shape: [number, number]\r\n}\r\n\r\nexport type EncodedMaterialMap = string\r\n\r\nexport type SourceDescriptor = {\r\n    type: \"point\"\r\n    position: [number, number]\r\n    amplitude: number\r\n    frequency: number\r\n    turnOffTime?: number\r\n}\r\n\r\nexport type SimulatorMap = {\r\n    materialMap: MaterialMap\r\n    simulationSettings: SimulationSettings\r\n    sourceDescriptors: SourceDescriptor[]\r\n}\r\n\r\nexport type EncodedSimulatorMap = {\r\n    encodedMaterialMap: string\r\n    simulationSettings: SimulationSettings\r\n    sourceDescriptors: SourceDescriptor[]\r\n    version?: number\r\n}\r\n\r\nexport function signalSourceToDescriptor(source: SignalSource): SourceDescriptor {\r\n    if (source instanceof PointSignalSource) {\r\n        return {\r\n            type: \"point\",\r\n            position: source.position,\r\n            amplitude: source.amplitude,\r\n            frequency: source.frequency,\r\n            turnOffTime: source.turnOffTime\r\n        }\r\n    }\r\n\r\n    throw new Error(\"Unknown source: \" + JSON.stringify(source))\r\n}\r\n\r\nexport function descriptorToSignalSource(descriptor: SourceDescriptor): SignalSource {\r\n    if (descriptor.type === \"point\") {\r\n        return new PointSignalSource(descriptor.amplitude, descriptor.frequency, descriptor.position, descriptor.turnOffTime)\r\n    }\r\n\r\n    throw new Error(\"Unknown source type: \" + descriptor.type)\r\n}\r\n\r\nexport function encodeSimulatorMap(simulatorMap: SimulatorMap): EncodedSimulatorMap {\r\n    return {\r\n        simulationSettings: simulatorMap.simulationSettings,\r\n        sourceDescriptors: simulatorMap.sourceDescriptors,\r\n        encodedMaterialMap: encodeMaterialMap(simulatorMap.materialMap),\r\n        version: currentSimulatorMapVersion\r\n    }\r\n}\r\n\r\nexport function decodeSimulatorMap(encodedSimulatorMap: EncodedSimulatorMap): SimulatorMap {\r\n    const version = encodedSimulatorMap.version\r\n\r\n    const materialMap = version === undefined ? decodeMaterialMap_v0(encodedSimulatorMap.encodedMaterialMap) : decodeMaterialMap(encodedSimulatorMap.encodedMaterialMap)\r\n\r\n    return {\r\n        simulationSettings: encodedSimulatorMap.simulationSettings,\r\n        sourceDescriptors: encodedSimulatorMap.sourceDescriptors,\r\n        materialMap: materialMap\r\n    }\r\n}\r\n\r\nexport function encodeMaterialMap(materialMap: MaterialMap): string {\r\n    const materialMapArray = new Float32Array(2 + 3 * materialMap.shape[0] * materialMap.shape[1])\r\n\r\n    materialMapArray[0] = materialMap.shape[0]\r\n    materialMapArray[1] = materialMap.shape[1]\r\n\r\n    for (let y = 0; y < materialMap.shape[1]; y++) {\r\n        for (let x = 0; x < materialMap.shape[0]; x++) {\r\n            const index = y * materialMap.shape[0] * 3 + x * 3\r\n            materialMapArray[2 + index] = materialMap.permittivity[y][x]\r\n            materialMapArray[2 + index + 1] = materialMap.permeability[y][x]\r\n            materialMapArray[2 + index + 2] = materialMap.conductivity[y][x]\r\n        }\r\n    }\r\n\r\n    const encodedMaterialMap: EncodedMaterialMap = pako.deflate(new Uint8Array(materialMapArray.buffer), { to: \"string\" })\r\n    return encodedMaterialMap\r\n}\r\n\r\nexport function decodeMaterialMap_v0(encodedMaterialMap: EncodedMaterialMap): MaterialMap {\r\n    const materialMapArray = new Float32Array(pako.inflate(encodedMaterialMap).buffer)\r\n    const shape: [number, number] = [materialMapArray[0], materialMapArray[1]]\r\n\r\n    const permittivity: number[][] = []\r\n    const permeability: number[][] = []\r\n    const conductivity: number[][] = [] // added later, use default value of 0\r\n\r\n    for (let y = 0; y < shape[1]; y++) {\r\n        permittivity.push([])\r\n        permeability.push([])\r\n        conductivity.push([])\r\n        for (let x = 0; x < shape[0]; x++) {\r\n            const index = y * shape[0] * 2 + x * 2\r\n            permittivity[y].push(materialMapArray[2 + index])\r\n            permeability[y].push(materialMapArray[2 + index + 1])\r\n            conductivity[y].push(0)\r\n        }\r\n    }\r\n\r\n    return {\r\n        shape: shape,\r\n        permittivity: permittivity,\r\n        permeability: permeability,\r\n        conductivity: conductivity\r\n    }\r\n}\r\n\r\nexport function decodeMaterialMap(encodedMaterialMap: EncodedMaterialMap): MaterialMap {\r\n    const materialMapArray = new Float32Array(pako.inflate(encodedMaterialMap).buffer)\r\n    const shape: [number, number] = [materialMapArray[0], materialMapArray[1]]\r\n\r\n    const permittivity: number[][] = []\r\n    const permeability: number[][] = []\r\n    const conductivity: number[][] = []\r\n\r\n    for (let y = 0; y < shape[1]; y++) {\r\n        permittivity.push([])\r\n        permeability.push([])\r\n        conductivity.push([])\r\n        for (let x = 0; x < shape[0]; x++) {\r\n            const index = y * shape[0] * 3 + x * 3\r\n            permittivity[y].push(materialMapArray[2 + index])\r\n            permeability[y].push(materialMapArray[2 + index + 1])\r\n            conductivity[y].push(materialMapArray[2 + index + 2])\r\n        }\r\n    }\r\n\r\n    return {\r\n        shape: shape,\r\n        permittivity: permittivity,\r\n        permeability: permeability,\r\n        conductivity: conductivity\r\n    }\r\n}","import { EncodedSimulatorMap, decodeSimulatorMap, SimulatorMap, encodeSimulatorMap } from \"./serialization\"\r\n\r\nconst apiUrl = \"https://6xuthl3lv4.execute-api.us-east-1.amazonaws.com/live/share\"\r\n\r\nexport async function getSharedSimulatorMap(shareId: string): Promise<SimulatorMap> {\r\n    const response = await fetch(`${apiUrl}?shareId=${shareId}`)\r\n\r\n    if (response.ok) {\r\n        const responseText = await response.text()\r\n\r\n        if (responseText) {\r\n            const encodedSimulatorMap = JSON.parse(responseText) as EncodedSimulatorMap\r\n            return decodeSimulatorMap(encodedSimulatorMap)\r\n        }\r\n    }\r\n\r\n    throw new Error(\"Invalid share\")\r\n}\r\n\r\nexport async function shareSimulatorMap(simulatorMap: SimulatorMap): Promise<string> {\r\n    const encodedSimulatorMap = encodeSimulatorMap(simulatorMap)\r\n\r\n    const response = await fetch(apiUrl, {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ encodedSimulatorMap: JSON.stringify(encodedSimulatorMap) })\r\n    })\r\n\r\n    if (response.ok) {\r\n        const responseObject = await response.json()\r\n        if (responseObject && responseObject.body) {\r\n            const { shareId } = JSON.parse(responseObject.body)\r\n            if (shareId) {\r\n                return shareId\r\n            }\r\n        }\r\n    }\r\n\r\n    throw new Error(\"Failed share upload\")\r\n}","import React, { useRef, useCallback, useEffect, useState, useMemo } from 'react'\nimport { GPU, GPUMode, GPUInternalMode, KernelFunction } from \"gpu.js\"\nimport { FDTDSimulator, makeDrawSquareInfo, makeDrawCircleInfo, DrawShapeType } from \"./simulator\"\nimport { CollapsibleContainer, SettingsComponent, ExamplesComponent, ImageButton, ShareComponent, MaterialBrushMenu, SignalBrushMenu } from './components'\nimport { toggleFullScreen, clamp, QualityPreset } from './util'\nimport iconFullscreen from \"./icons/fullscreen.png\"\nimport iconGitHub from \"./icons/github.png\"\nimport iconSettings from \"./icons/settings.png\"\nimport iconShare from \"./icons/share.png\"\nimport iconInfo from \"./icons/info.png\"\nimport iconExamples from \"./icons/examples.png\"\nimport iconMaterialBrush from \"./icons/materialbrush.png\"\nimport iconSignalBrush from \"./icons/signalbrush.png\"\nimport iconResetMaterials from \"./icons/resetmaterials.png\"\nimport iconResetFields from \"./icons/resetfields.png\"\nimport \"./App.css\"\nimport { SignalSource } from './sources'\nimport * as k from './kernels/rendering'\nimport { getSharedSimulatorMap, shareSimulatorMap } from './share'\nimport { MaterialMap, signalSourceToDescriptor, descriptorToSignalSource } from './serialization'\nimport { BounceLoader } from \"react-spinners\"\n\nfunction getGpuMode(): GPUMode | GPUInternalMode {\n    if (GPU.isSinglePrecisionSupported) {\n        if (GPU.isWebGL2Supported) {\n            return \"webgl2\"\n        } else if (GPU.isWebGLSupported) {\n            return \"webgl\"\n        }\n    }\n\n    return \"cpu\"\n}\n\nenum SideBarType {\n    SignalBrush = \"Signal Brush\",\n    MaterialBrush = \"Material Brush\",\n    Settings = \"Settings\",\n    Examples = \"Examples\"\n}\n\nconst qualityPresets: { [presetName: string]: QualityPreset } = {\n    \"Low\": {\n        dt: 0.013 * 2,\n        cellSize: 0.02 * 2,\n        resolutionScale: 0.3,\n        gridSizeLongest: 400 / 2\n    },\n    \"Medium\": {\n        dt: 0.013,\n        cellSize: 0.02,\n        resolutionScale: 1,\n        gridSizeLongest: 400\n    },\n    \"High\": {\n        dt: 0.013 / 2,\n        cellSize: 0.02 / 2,\n        resolutionScale: 1,\n        gridSizeLongest: 400 * 2\n    },\n    \"Ultra\": {\n        dt: 0.013 / 4,\n        cellSize: 0.02 / 4,\n        resolutionScale: 1,\n        gridSizeLongest: 400 * 4\n    }\n}\n\nconst gpuMode = getGpuMode()\nconsole.log(`Using GPU mode ${gpuMode}`)\n\nconst defaultPreset = gpuMode === \"cpu\" ? qualityPresets[\"Low\"] : qualityPresets[\"Medium\"]\n\nconst defaultSignalBrushValue = 10\nconst defaultSignalBrushSize = 1\nconst defaultSignalFrequency = gpuMode === \"cpu\" ? 1 : 3\nconst defaultPermittivityBrushValue = 5\nconst defaultPermeabilityBrushValue = 1\nconst defaultConductivityBrushValue = 0\nconst defaultMaterialBrushSize = 5\nconst defaultDrawShapeType = \"square\"\n\nconst initialDt = defaultPreset.dt\nconst initialCellSize = defaultPreset.cellSize\nconst initialSimulationSpeed = 1\nconst initialGridSizeLongest = defaultPreset.gridSizeLongest\nconst initialResolutionScale = defaultPreset.resolutionScale\nconst initialWindowSize: [number, number] = [window.innerWidth, window.innerHeight]\nconst initialCanvasSize: [number, number] = calculateCanvasSize(initialWindowSize, initialResolutionScale)\nconst initialGridSize: [number, number] = calculateGridSize(initialGridSizeLongest, initialCanvasSize)\nconst initialReflectiveBoundary = false\n\nfunction calculateCanvasSize(windowSize: [number, number], resolutionScale: number): [number, number] {\n    return [Math.round(windowSize[0] * resolutionScale), Math.round(windowSize[1] * resolutionScale)]\n}\n\nfunction calculateGridSize(gridSizeLongest: number, canvasSize: [number, number]): [number, number] {\n    const canvasAspect = canvasSize[0] / canvasSize[1]\n\n    return canvasSize[0] >= canvasSize[1] ?\n        [gridSizeLongest, Math.ceil(gridSizeLongest / canvasAspect)] :\n        [Math.ceil(gridSizeLongest * canvasAspect), gridSizeLongest]\n}\n\nconst makeRenderSimulatorCanvas = (gpu: GPU, canvasSize: [number, number]) => {\n    const funcs: KernelFunction[] = [k.getAt]\n    if (gpuMode === \"cpu\") {\n        funcs.push(k.nativeSmoothStep)\n    }\n\n    const kernel = gpuMode !== \"cpu\" ? gpu.createKernel(k.drawGpu) : gpu.createKernel(k.drawCpu)\n    return kernel.setOutput(canvasSize).setGraphical(true).setFunctions(funcs).setWarnVarUsage(false).setTactic(\"performance\").setPrecision(\"unsigned\").setDynamicOutput(true).setDynamicArguments(true)\n}\n\nexport default function () {\n    const urlShareId = window.location.hash ? window.location.hash.substr(1) : null\n    const [shareId, setShareId] = useState<string | null>(urlShareId)\n\n    const drawCanvasRef = useRef<HTMLCanvasElement>(null)\n\n    const [canvasSize, setCanvasSize] = useState<[number, number]>(initialCanvasSize)\n    const [windowSize, setWindowSize] = useState<[number, number]>(initialWindowSize)\n    const [gridSizeLongest, setGridSizeLongest] = useState(initialGridSizeLongest)\n    const [dt, setDt] = useState(initialDt)\n    const [cellSize, setCellSize] = useState(initialCellSize)\n    const [resolutionScale, setResolutionScale] = useState(initialResolutionScale)\n    const [simulationSpeed, setSimulationSpeed] = useState(initialSimulationSpeed)\n    const [reflectiveBoundary, setReflectiveBoundary] = useState(initialReflectiveBoundary)\n\n    const [sources, setSources] = useState<SignalSource[]>([])\n\n    useEffect(() => {\n        const adjustCanvasSize = () => {\n            const wndSize: [number, number] = [window.innerWidth, window.innerHeight]\n            setCanvasSize(calculateCanvasSize(wndSize, resolutionScale))\n            setWindowSize(wndSize)\n        }\n\n        adjustCanvasSize()\n\n        window.addEventListener(\"resize\", adjustCanvasSize)\n        return () => window.removeEventListener(\"resize\", adjustCanvasSize)\n    }, [resolutionScale])\n\n    const gridSize = useMemo<[number, number]>(() => calculateGridSize(gridSizeLongest, canvasSize), [canvasSize, gridSizeLongest])\n\n    // Would use useMemo for gpu here, but useMemo does not seem to work with ref dependencies.\n    const [gpu, setGpu] = useState<GPU | null>(null)\n    useEffect(() => {\n        if (drawCanvasRef.current) {\n            const gpu = new GPU({ mode: gpuMode, canvas: drawCanvasRef.current })\n\n            // Add native func for gpus here. For cpus we add a normal func when creating the kernel.\n            if (gpuMode !== \"cpu\") {\n                gpu.addNativeFunction(k.nativeSmoothStep.name, `float ${k.nativeSmoothStep.name}(float x) { return smoothstep(0.0, 1.0, x); }`)\n            }\n\n            setGpu(gpu)\n        }\n    }, [drawCanvasRef])\n\n    const simulator = useMemo(() => gpu ? new FDTDSimulator(gpu, initialGridSize, initialCellSize, initialReflectiveBoundary) : null, [gpu])\n    const renderSim = useMemo(() => gpu ? makeRenderSimulatorCanvas(gpu, initialGridSize) : null, [gpu])\n\n    // Load share id\n    useEffect(() => {\n        if (simulator && urlShareId) {\n            setShowLoading(true)\n            console.log(`Loading ${urlShareId}`)\n            getSharedSimulatorMap(urlShareId).then(simulatorMap => {\n                // Load material\n                simulator.loadPermittivity(simulatorMap.materialMap.permittivity)\n                simulator.loadPermeability(simulatorMap.materialMap.permeability)\n                simulator.loadConductivity(simulatorMap.materialMap.conductivity)\n\n                // Load settings\n                setDt(simulatorMap.simulationSettings.dt)\n                setGridSizeLongest(Math.max(simulatorMap.simulationSettings.gridSize[0], simulatorMap.simulationSettings.gridSize[1]))\n                setCellSize(simulatorMap.simulationSettings.cellSize)\n\n                // Load sources\n                setSources(simulatorMap.sourceDescriptors.map(desc => descriptorToSignalSource(desc)))\n\n                console.log(`Loaded ${urlShareId}`)\n            }).catch(err => console.error(`Error getting share ${urlShareId}: ${JSON.stringify(err)}`)).finally(() => setShowLoading(false))\n        }\n    }, [simulator, urlShareId])\n\n    // Update render sim output size\n    useEffect(() => {\n        if (renderSim) {\n            renderSim.setOutput(canvasSize)\n        }\n    }, [renderSim, canvasSize])\n\n    // Update simulator grid size\n    useEffect(() => {\n        if (simulator) {\n            simulator.setGridSize(gridSize)\n        }\n    }, [simulator, gridSize])\n\n    // Update simulator cell size\n    useEffect(() => {\n        if (simulator) {\n            simulator.setCellSize(cellSize)\n        }\n    }, [simulator, cellSize])\n\n    // Update reflective boundary\n    useEffect(() => {\n        if (simulator) {\n            simulator.reflectiveBoundary = reflectiveBoundary\n        }\n    }, [simulator, reflectiveBoundary])\n\n    const [signalBrushSize, setSignalBrushSize] = useState(defaultSignalBrushSize)\n    const [signalBrushValue, setSignalBrushValue] = useState(defaultSignalBrushValue)\n    const [drawShapeType, setDrawShapeType] = useState<DrawShapeType>(defaultDrawShapeType)\n\n    const [materialBrushSize, setMaterialBrushSize] = useState(defaultMaterialBrushSize)\n    const [permittivityBrushValue, setPermittivityBrushValue] = useState(defaultPermittivityBrushValue)\n    const [permeabilityBrushValue, setPermeabilityBrushValue] = useState(defaultPermeabilityBrushValue)\n    const [conductivityBrushValue, setConductivityBrushValue] = useState(defaultConductivityBrushValue)\n    const [signalFrequency, setSignalFrequency] = useState(defaultSignalFrequency)\n    const [drawingMaterial, setDrawingMaterial] = useState(false)\n    const optionMaterialBrush = 0\n    const optionSignal = 1\n    const [clickOption, setClickOption] = useState(optionSignal) // material, signal\n\n    const [mousePosition, setMousePosition] = useState<[number, number] | null>(null)\n\n    const signalStrength = useRef(0)\n    const mouseDownPos = useRef<[number, number] | null>(null)\n\n    const [shareInProgress, setShareInProgress] = useState(false)\n    const [sideMenuCollapsed, setSideMenuCollapsed] = useState(false)\n    const [infoVisible, setInfoVisible] = useState(false)\n    const [showLoading, setShowLoading] = useState(false)\n\n    // Snap input across a line\n    const [snapInput, setSnapInput] = useState(false)\n    const [inputStartPos, setInputStartPos] = useState<[number, number] | null>(null)\n    const [inputDir, setInputDir] = useState<[number, number] | null>(null)\n\n    const windowToSimulationPoint = useMemo(() => {\n        return (windowPoint: [number, number]) => {\n            const simulationPoint: [number, number] = [\n                clamp(0, gridSize[0] - 1, Math.floor(gridSize[0] * windowPoint[0] / windowSize[0])),\n                clamp(0, gridSize[1] - 1, Math.floor(gridSize[1] * windowPoint[1] / windowSize[1]))\n            ]\n            return simulationPoint\n        }\n    }, [windowSize, gridSize])\n\n    const simStep = useCallback(() => {\n        if (simulator) {\n            const simData = simulator.getData()\n\n            if (mouseDownPos.current !== null) {\n                const center = windowToSimulationPoint(mouseDownPos.current)\n                const brushHalfSize = Math.round(signalBrushSize / 2)\n                const value = -signalBrushValue * 2000 * Math.cos(2 * Math.PI * signalFrequency * simData.time)\n\n                const drawInfo = drawShapeType === \"square\" ?\n                    makeDrawSquareInfo(center, brushHalfSize, value) :\n                    makeDrawCircleInfo(center, brushHalfSize, value)\n\n                simulator.injectSignal(drawInfo, dt)\n            }\n\n            for (const source of sources) {\n                source.inject(simulator, dt)\n            }\n\n            simulator.stepMagnetic(dt)\n            simulator.stepElectric(dt)\n        }\n    }, [simulator, dt, signalFrequency, signalBrushValue, signalBrushSize, sources, windowToSimulationPoint, drawShapeType])\n\n    useEffect(() => {\n        if (simulationSpeed > 0) {\n            const timer = setInterval(simStep, 1000 / simulationSpeed * dt)\n            return () => clearInterval(timer)\n        }\n\n        return undefined\n    }, [simStep, dt, simulationSpeed])\n\n    const drawStep = useCallback(() => {\n        if (simulator && renderSim) {\n            if (drawCanvasRef.current) {\n                const cnvSize = calculateCanvasSize([window.innerWidth, window.innerHeight], resolutionScale)\n                drawCanvasRef.current.width = cnvSize[0]\n                drawCanvasRef.current.height = cnvSize[1]\n            }\n\n            const simData = simulator.getData()\n\n            renderSim(simData.electricField[0].values, simData.electricField[1].values, simData.electricField[2].values,\n                simData.magneticField[0].values, simData.magneticField[1].values, simData.magneticField[2].values,\n                simData.permittivity.values, simData.permeability.values, simData.conductivity.values, gridSize, cellSize)\n        }\n    }, [simulator, renderSim, gridSize, cellSize, resolutionScale, drawCanvasRef])\n\n    useEffect(() => {\n        let stop = false\n        const drawIfNotStopped = () => {\n            if (!stop) {\n                drawStep()\n                requestAnimationFrame(drawIfNotStopped)\n            }\n        }\n\n        requestAnimationFrame(drawIfNotStopped)\n\n        return () => { stop = true }\n    }, [drawStep])\n\n    const changeMaterial = useCallback((canvasPos: [number, number]) => {\n        if (simulator) {\n            const center: [number, number] = [\n                Math.round(gridSize[0] * (canvasPos[0] / windowSize[0])),\n                Math.round(gridSize[1] * (canvasPos[1] / windowSize[1]))\n            ]\n            const brushHalfSize = Math.round(materialBrushSize / 2)\n\n            simulator.drawMaterial(\"permittivity\", drawShapeType === \"square\" ?\n                makeDrawSquareInfo(center, brushHalfSize, permittivityBrushValue) :\n                makeDrawCircleInfo(center, brushHalfSize, permittivityBrushValue))\n\n            simulator.drawMaterial(\"permeability\", drawShapeType === \"square\" ?\n                makeDrawSquareInfo(center, brushHalfSize, permeabilityBrushValue) :\n                makeDrawCircleInfo(center, brushHalfSize, permeabilityBrushValue))\n\n            simulator.drawMaterial(\"conductivity\", drawShapeType === \"square\" ?\n                makeDrawSquareInfo(center, brushHalfSize, conductivityBrushValue) :\n                makeDrawCircleInfo(center, brushHalfSize, conductivityBrushValue))\n        }\n    }, [simulator, gridSize, windowSize, materialBrushSize, permittivityBrushValue, permeabilityBrushValue, conductivityBrushValue, drawShapeType])\n\n    const resetMaterials = useCallback(() => {\n        if (simulator) {\n            setSources([])\n            simulator.resetMaterials()\n        }\n    }, [simulator])\n\n    const resetFields = useCallback(() => {\n        if (simulator) {\n            simulator.resetFields()\n            signalStrength.current = 0\n        }\n    }, [simulator])\n\n    const [isInputDown, setIsInputDown] = useState(false)\n\n    const onInputDown = useCallback((clientPos: [number, number]) => {\n        if (simulator) {\n            setInputStartPos(clientPos)\n\n            if (clickOption === optionSignal) {\n                mouseDownPos.current = clientPos\n            } else if (clickOption === optionMaterialBrush) {\n                changeMaterial(clientPos)\n                setDrawingMaterial(true)\n            }\n\n        }\n\n        setIsInputDown(true)\n    }, [simulator, changeMaterial, clickOption])\n\n    const onInputMove = useCallback((clientPos: [number, number], shiftDown?: boolean) => {\n        if (simulator) {\n            let pos: [number, number] = clientPos\n\n            // If snapping, change the position to lie along the draw line\n            if ((snapInput || shiftDown) && inputStartPos) {\n                const offset = [pos[0] - inputStartPos[0], pos[1] - inputStartPos[1]]\n                if (inputDir) {\n                    const projection = offset[0] * inputDir[0] + offset[1] * inputDir[1]\n                    pos = [inputStartPos[0] + projection * inputDir[0], inputStartPos[1] + projection * inputDir[1]]\n                } else {\n                    const offsetLengthSq = offset[0] * offset[0] + offset[1] * offset[1]\n                    const minimumSnapLengthSq = 0.01 * 0.01 * (windowSize[0] * windowSize[0] + windowSize[1] * windowSize[1])\n                    if (offsetLengthSq > minimumSnapLengthSq) {\n                        // Snap to discrete angles\n                        const angleQuantum = Math.PI / 4\n                        const snappedAngle = Math.round(Math.atan2(offset[1], offset[0]) / angleQuantum) * angleQuantum\n                        const dir: [number, number] = [Math.cos(snappedAngle), Math.sin(snappedAngle)]\n                        setInputDir(dir)\n                    }\n                }\n            }\n\n            if (clickOption === optionSignal && mouseDownPos.current !== null) {\n                mouseDownPos.current = pos\n            }\n\n            if (drawingMaterial) {\n                changeMaterial(pos)\n            }\n        }\n    }, [simulator, changeMaterial, clickOption, drawingMaterial, inputDir, inputStartPos, windowSize, snapInput])\n\n    const onInputUp = useCallback(() => {\n        if (clickOption === optionSignal) {\n            mouseDownPos.current = null\n        } else if (clickOption === optionMaterialBrush) {\n            setDrawingMaterial(false)\n        }\n\n        setInputDir(null)\n        setInputStartPos(null)\n\n        setIsInputDown(false)\n    }, [clickOption])\n\n    const activeBrushSize = useMemo(() => (clickOption === optionSignal ? signalBrushSize : materialBrushSize) * (canvasSize[0] / gridSize[0]), [clickOption, signalBrushSize, materialBrushSize, canvasSize, gridSize])\n\n    const [sideBar, setSideBar] = useState(SideBarType.SignalBrush)\n    const [shareVisible, setShareVisible] = useState(false)\n\n    const hideWhenInputDownStyle = useMemo<React.CSSProperties>(() => isInputDown ? { pointerEvents: \"none\", opacity: 0.2 } : {}, [isInputDown])\n\n    const getMaterialMap = useMemo<() => (MaterialMap | null)>(() => {\n        return () => {\n            if (simulator) {\n                const simData = simulator.getData()\n                return {\n                    permittivity: simData.permittivity.values.toArray() as number[][],\n                    permeability: simData.permeability.values.toArray() as number[][],\n                    conductivity: simData.conductivity.values.toArray() as number[][],\n                    shape: [simData.permeability.shape[0], simData.permeability.shape[1]]\n                }\n            }\n\n            return null\n        }\n    }, [simulator])\n\n    const generateShareUrl = useCallback(() => {\n        setShareInProgress(true)\n        const materialMap = getMaterialMap()\n        if (materialMap) {\n            shareSimulatorMap({\n                materialMap: materialMap,\n                simulationSettings: {\n                    cellSize: cellSize,\n                    dt: dt,\n                    gridSize: gridSize,\n                    simulationSpeed: 1\n                },\n                sourceDescriptors: sources.map(source => signalSourceToDescriptor(source))\n            })\n                .then(shareId => setShareId(shareId))\n                .catch(err => console.log(\"Error uploading share: \" + JSON.stringify(err)))\n                .finally(() => setShareInProgress(false))\n        }\n    }, [getMaterialMap, dt, cellSize, gridSize, sources])\n\n    const shareUrl = useMemo(() => {\n        return shareId ? `${window.location.origin}${window.location.pathname}#${shareId}` : null\n    }, [shareId])\n\n    // Open side menu when switching the side bar\n    useEffect(() => {\n        setSideMenuCollapsed(false)\n    }, [sideBar])\n\n    return (\n        <div>\n            <div style={{ position: \"absolute\", top: 0, left: 0, right: 0, bottom: 0, touchAction: \"none\", userSelect: \"none\" }}>\n                <canvas width={canvasSize[0]} height={canvasSize[1]} ref={drawCanvasRef} style={{ position: \"absolute\", width: windowSize[0], height: windowSize[1], cursor: \"none\" }}\n                    onMouseDown={e => onInputDown([e.clientX, e.clientY])}\n                    onMouseMove={e => { setMousePosition([e.clientX, e.clientY]); onInputMove([e.clientX, e.clientY], e.shiftKey) }}\n                    onMouseUp={e => onInputUp()}\n                    onMouseLeave={e => onInputUp()}\n                    onTouchStart={e => { setMousePosition([e.touches[0].clientX, e.touches[0].clientY]); onInputDown([e.touches[0].clientX, e.touches[0].clientY]) }}\n                    onTouchMove={e => { setMousePosition([e.touches[0].clientX, e.touches[0].clientY]); onInputMove([e.touches[0].clientX, e.touches[0].clientY]) }}\n                    onTouchEnd={e => { setMousePosition(null); onInputUp() }}\n                    onTouchCancel={e => { setMousePosition(null); onInputUp() }}\n                    onContextMenu={e => e.preventDefault()}\n                />\n\n                <div style={{ position: \"absolute\", bottom: 10, right: 10, ...hideWhenInputDownStyle }}>\n                    <ImageButton onClick={_ => { generateShareUrl(); setShareVisible(!shareVisible) }} src={iconShare} highlight={shareVisible} />\n                    <ImageButton onClick={_ => setInfoVisible(!infoVisible)} src={iconInfo} />\n                    <a href=\"https://github.com/RobinKa/maxwell-simulation\"><ImageButton src={iconGitHub} /></a>\n                </div>\n\n                {mousePosition && (drawShapeType === \"square\" ?\n                    <div style={{ position: \"absolute\", pointerEvents: \"none\", left: mousePosition[0] - activeBrushSize / 2, top: mousePosition[1] - activeBrushSize / 2, width: activeBrushSize, height: activeBrushSize, border: \"2px solid rgb(255, 89, 0)\" }} /> :\n                    <div style={{ position: \"absolute\", pointerEvents: \"none\", left: mousePosition[0] - activeBrushSize / 2, top: mousePosition[1] - activeBrushSize / 2, width: activeBrushSize, height: activeBrushSize, border: \"2px solid rgb(255, 89, 0)\", borderRadius: \"50%\" }} />)\n                }\n\n                {gpuMode === \"cpu\" &&\n                    <div style={{ position: \"absolute\", pointerEvents: \"none\", left: 10, bottom: 10, color: \"red\", fontWeight: \"lighter\" }}>Using CPU (WebGL with float textures unsupported by your device)</div>\n                }\n\n                <div style={{ position: \"absolute\", top: \"10px\", left: \"10px\", ...hideWhenInputDownStyle }}>\n                    <ImageButton onClick={_ => { setSideBar(SideBarType.SignalBrush); setClickOption(optionSignal) }} src={iconSignalBrush} highlight={sideBar === SideBarType.SignalBrush} />\n                    <ImageButton onClick={_ => { setSideBar(SideBarType.MaterialBrush); setClickOption(optionMaterialBrush) }} src={iconMaterialBrush} highlight={sideBar === SideBarType.MaterialBrush} />\n                </div>\n\n                <div style={{ position: \"absolute\", top: \"10px\", right: \"10px\", ...hideWhenInputDownStyle }}>\n                    <ImageButton onClick={_ => setSideBar(SideBarType.Examples)} src={iconExamples} highlight={sideBar === SideBarType.Examples} />\n                    <ImageButton onClick={_ => setSideBar(SideBarType.Settings)} src={iconSettings} highlight={sideBar === SideBarType.Settings} />\n                    <ImageButton onClick={toggleFullScreen} src={iconFullscreen} />\n                </div>\n\n                <div style={{ position: \"absolute\", bottom: \"10px\", left: \"10px\", ...hideWhenInputDownStyle }}>\n                    <ImageButton onClick={resetFields} src={iconResetFields} />\n                    <ImageButton onClick={resetMaterials} src={iconResetMaterials} />\n                </div>\n\n                <CollapsibleContainer collapsed={sideMenuCollapsed} setCollapsed={setSideMenuCollapsed} title={sideBar.toString()}\n                    style={{ position: \"absolute\", top: \"50%\", height: \"400px\", marginTop: \"-200px\", right: 0, opacity: 0.9, ...hideWhenInputDownStyle }}>\n                    {sideBar === SideBarType.SignalBrush ?\n                        <SignalBrushMenu\n                            signalBrushSize={signalBrushSize} setSignalBrushSize={setSignalBrushSize}\n                            signalBrushValue={signalBrushValue} setSignalBrushValue={setSignalBrushValue}\n                            signalFrequency={signalFrequency} setSignalFrequency={setSignalFrequency}\n                            drawShapeType={drawShapeType} setDrawShapeType={setDrawShapeType}\n                            snapInput={snapInput} setSnapInput={setSnapInput} /> : (sideBar === SideBarType.MaterialBrush ?\n                                <MaterialBrushMenu\n                                    materialBrushSize={materialBrushSize} setMaterialBrushSize={setMaterialBrushSize}\n                                    permittivityBrushValue={permittivityBrushValue} setPermittivityBrushValue={setPermittivityBrushValue}\n                                    permeabilityBrushValue={permeabilityBrushValue} setPermeabilityBrushValue={setPermeabilityBrushValue}\n                                    conductivityBrushValue={conductivityBrushValue} setConductivityBrushValue={setConductivityBrushValue}\n                                    drawShapeType={drawShapeType} setDrawShapeType={setDrawShapeType}\n                                    snapInput={snapInput} setSnapInput={setSnapInput} /> : (sideBar === SideBarType.Settings ?\n                                        <SettingsComponent\n                                            gridSizeLongest={gridSizeLongest} setGridSizeLongest={setGridSizeLongest}\n                                            simulationSpeed={simulationSpeed} setSimulationSpeed={setSimulationSpeed}\n                                            resolutionScale={resolutionScale} setResolutionScale={setResolutionScale}\n                                            cellSize={cellSize} setCellSize={setCellSize}\n                                            reflectiveBoundary={reflectiveBoundary} setReflectiveBoundary={setReflectiveBoundary}\n                                            dt={dt} setDt={setDt}\n                                            qualityPresets={qualityPresets} /> : (sideBar === SideBarType.Examples ?\n                                                <ExamplesComponent\n                                                    simulator={simulator} setCellSize={setCellSize} setDt={setDt}\n                                                    setGridSizeLongest={setGridSizeLongest} setSimulationSpeed={setSimulationSpeed}\n                                                    setSources={setSources} gridSize={gridSize} dt={dt}\n                                                    cellSize={cellSize} simulationSpeed={simulationSpeed} /> : <div />)))}\n                </CollapsibleContainer>\n            </div>\n\n            {shareVisible &&\n                <div>\n                    <div onClick={_ => setShareVisible(false)} style={{ position: \"absolute\", left: 0, right: 0, top: 0, bottom: 0, background: \"rgba(0, 0, 0, 0.5)\" }} />\n                    {!(shareInProgress || !shareUrl) &&\n                        <div style={{ position: \"absolute\", backgroundColor: \"rgb(30, 30, 30)\", left: \"50%\", top: \"50%\", marginLeft: \"-150px\", marginTop: \"-30px\", width: \"300px\", height: \"60px\", textAlign: \"center\", padding: \"10px\" }}>\n                            <ShareComponent shareUrl={shareUrl} shareText=\"Check out what I made in this interactive web-based simulator for electromagnetic waves!\" shareTitle=\"EM Simulator\" />\n                        </div>\n                    }\n                </div>\n            }\n\n            {((shareVisible && (shareInProgress || !shareUrl)) || showLoading) &&\n                <div>\n                    <div style={{ position: \"absolute\", left: 0, right: 0, top: 0, bottom: 0, background: \"rgba(0, 0, 0, 0.5)\" }} />\n                    <div style={{ position: \"absolute\", left: \"50%\", top: \"50%\", marginLeft: \"-75px\", marginTop: \"-75px\", width: \"150px\", height: \"150px\", textAlign: \"center\" }}>\n                        <BounceLoader color=\"rgb(0, 150, 255)\" size={100} />\n                    </div>\n                </div>\n            }\n\n            {infoVisible &&\n                <div>\n                    <div onClick={_ => setInfoVisible(false)} style={{ position: \"absolute\", left: 0, right: 0, top: 0, bottom: 0, background: \"rgba(0, 0, 0, 0.5)\" }} />\n                    <div style={{ position: \"absolute\", backgroundColor: \"rgb(30, 30, 30)\", left: \"50%\", top: \"50%\", marginLeft: \"-150px\", marginTop: \"-70px\", width: \"300px\", height: \"140px\", textAlign: \"center\", padding: \"10px\", color: \"white\", fontWeight: \"lighter\" }}>\n                        <div>\n                            Made by <a href=\"https://github.com/RobinKa\" style={{ textDecoration: \"none\", color: \"rgb(0, 150, 255)\" }} rel=\"noopener noreferrer\" target=\"_blank\">Robin Kahlow</a>. If you have feedback, ideas for improvement, bug reports or anything else open an issue on <a href=\"https://github.com/RobinKa/maxwell-simulation/issues\" style={{ textDecoration: \"none\", color: \"rgb(0, 150, 255)\" }} rel=\"noopener noreferrer\" target=\"_blank\">GitHub</a> or <a href=\"mailto:tora@warlock.ai?subject=EM simulation feedback\" style={{ textDecoration: \"none\", color: \"rgb(0, 150, 255)\" }}>send an email to tora@warlock.ai</a>.\n                        </div>\n                        <div style={{ marginTop: \"5px\" }}><a href=\"https://github.com/RobinKa/maxwell-simulation\" style={{ textDecoration: \"none\", color: \"rgb(0, 150, 255)\" }} rel=\"noopener noreferrer\" target=\"_blank\">Source code</a></div>\n                        <div style={{ marginTop: \"5px\" }}>Icons by <a href=\"https://icons8.com/\" style={{ textDecoration: \"none\", color: \"rgb(0, 150, 255)\" }} rel=\"noopener noreferrer\" target=\"_blank\">Icons8</a></div>\n                    </div>\n                </div>\n            }\n        </div>\n    )\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAACnklEQVR4nO3dy2oUQRjF8fOZmIUXXLoX1EWMAVGCPpQrH0NXrn0FFxEhKiEg6gvoyoVrsxHHGcjFy3HREwRJhnSnqvvL5P+DWTV8VV1nanrRNVUSAAAAAAAAMKdc38j2uu3livdw2/Zr27u1b6Zt36LDzbRupKOJpAcR8bFkUdv3JL2TtFSy7lEiotUYn6vVkQIuSXpcoe4z9RRGF5lniCTtS7oQEb9LFLN9VdLXErWOa55myJmUPZCtUrNDkiJiW9KnUvVqyBzIRNKjCnUfStqpULeIjIGMJK1LWouI4t/miNiStCZpU9Ju6fonVfyh3vYhdtqVHo+MM+RMI5BkCCQZAkmGQJIhkGQIJBkCSYZAkiGQZAgkGQJJhkCSIZBkCCSZLoGMZlz73rUjp9j2jGvjtsW6BPK247V59X7Gtc3qrdtetj0+ZJHeuOZqw6xsX7f944jxuNZXJ1Zsv7K9b3vP9obtW700npDtm7Y3p+Px0/Yb26tDdGTB9kLvDSdle8n24tD9AAAAAAAAAAAAAAAA/7G9yCKHfwYbD9s3pktdfk0/wyx7SWLQ8bC9OmOh3EovnUhk8PGw/fKQxg+8qN6BZEqPR5fNZyaSLh5xeRIRl9vWPM1Kjwe7AZ1Q6fHg/yHJEEgyBJIMgSRDIMkQSDIEkgyBJEMgyRBIMgSSDIEkQyDJEEgyBJJM8UBmvD07rrHt5664T4ib/VrW3ZwIdyKl+5b5DKqRpDsR8aVkUTfvuT+oOXSsunl6QXVF0tMKdZ+opzC6yDxDJGlPzSltf0oUc7NmakfS+RL1jmOeZsiBPr8Ag8seyEZEFAtkeuLbVql6NWT+yfom6X5EfC5ZlId6exM1p7TdLR2GJE3P1l2btjFrQ08AAAAAAHDm/QVKIvrt1bqvIwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzlFQkFERkU4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzlFQkFERkQ4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJFOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJGOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Kk5lQwAABYxJREFUeNrkm29oVXUYx3+7bM3V1FnbqlltrtXWtYRa1nqxooY5E7EhKWGuaTDBagol9SIMDCKICASj+cISw/DPi16ZBakrUBnoC7nNoTMWy6I1c+LmVq6t78N9jpyu555znt855+536IHPi939/jzP95zznN+/kzc1NaUitirwJJgPasF94DZQDG7hMqNgBFwEZ5kU+AH0R+lcXgQCJMBT4EXwLKgM2N7P4FvwJegCk6YKUA5eB23grogu2C/gc7AN/GGKABTsZtAOZqjc2DjYAT5kUfSNBNCkAGwGo1PTZ6PsQ4FuHLp3QD3YDR5QZtgZsAac1ElYokcGbATHDApesS/kUwf7GEkOKAK7wAvKbNsPXgZjYQowG3wNnlDxsONgCbgchgAU/GHwiIqXUT5o8hLBKwfcDA7FMHgrUR/iGLQEoGTyBWhQ8bUGjiFPR4A3QIuKv7VwLKIcQMnue5Dv0fjT/IwtAM3g+RyMBmkU+BXf3qc5Rx3xqDPBE7LjfkaCheCcj1HYKYe6JeBt8GcEo75L3HaJQ7+nfNQ/x7H9p67TFX4L1Pi4EocdfhsGH4BPwVbwqu0xGwI/8vT2N/77Gv+vAJSCO3n6PJ//Vjz72w62cPtORnfAwx7+1nBsW93ugGow7vOKtPkYa9eDl0Clxji9kuvW+yjb5tPncY7xet3MhjoFt2RzgIlU2DQL/O6017W/Be4BawXJqMCgTH+ToOxajvWG1+AmYVBlBglQKrxwmzIFoB9XCzt91CABpL6sti62JcBiXtKS2GMGCSD1pZxjvi7AKmED9PraYJAAG2yvVL+2yi7AImHl90C3QQJ03/B+97ZF1lCYVlN6BBV/BffykNQkoyF4H5grqJOkO6BR2NF2A4O35gifCOs0JjTW9vYaPPPbJ11LJAFqBRVoDf68wQLQI3BBUL424XPiY1lvDOb/ZwRla0iAOYIKv8dAgEFB2VtJgJmCChMxEEAyHigmAQoFFWbFQIDZgrKF0p2hmTEQQOQjCTAmKD8vBgJUCcqOkQBXBBXosEORwcEXKdmBjCskwICgQr5h0+BMW6i8V7LtNkAC9As7WWqwAM8Jy/cnhBMhspVKvq2eC0uwbxLrSWhMa+dpdJQLW6mRpLtpOlyuMcL7CTwErhoSPG2ApjQEuD3BQ0fp0ZJqlT6pZYpt0wieYh60nuWDGp2+At4xIPgt7IvU0jHzBkFdgD27HWDGNGyGFHHfulaXuTN0IkBjZ8EykJeDwKmPFtAXwN8TTltjrVkKfwcawXJW3G3v8DTYCKoiCLwGvAl6QthpbnU6J5jP2f1uh1Wgxbbxwv0qvT/vtZRGA6wuzs50+Pkb8JdgQtPMq1VJld7bnxtSzhjgJD5hzwEW611OZK6xlSvzeYbAsl3Cx4PK7ozodOl6t93hfJByqbzOVnYh+MdHhxfBLI1bnuoMhRx8imPMKgDR5LG/nrSVfddHpx8HeO4/ClmApsw+snXsdk7gYMat+r5Hp0sDCLAkxOA7nfrI1nGxx2tmQUb5x8FuzgvD4Dw4wNm2MIAA1SEF38cx+RaAeBCMZGlwb44GOyUhBD/CsTj24TatpddXq3L+RIVmXnE4QzjJMaSylvBxFdqzKHsVrDD8Dmj36sOvIx0unewHDRENg4MI0BH2FyP0RcZOlzW3Ib7VLvPqDK0z1PEq7bDmLVwCLgnr0AhvnUp/0eJp0k9m6HO4fUp2nGZODgUY5PzUJVlHkxg1TEfnjxqY8I6yb12SSjqLm7T9/Ax4TaW/+JxuIx862KcL4toBk1QFT1omXZLRHQHaL3Npl/r8jH3QjiGsbJ3kGd/fDo6WBWi31KG9a9xXMgzfw35tVfCR9l52dk8Ibe7htnq57YowfY7i4+lYWUL9z+1fAQYACqstE4NCc18AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAABpElEQVR4nO3aMU4CURRG4f9Zw26MtdYa41a0McQ96FpQd+FujP21IBQSkYQ43COeryKhuG848zIzZBJJkiT9vrH+UFXVuZD/bowxkuSkeyH6yiAwBoExCIxBYAwCYxAYg8AYBMYgMAaBMQiMQWAMAmMQGIPAGATGIDAGgTEIjEFgDAJjEEmSjsTY9oXv+k5r/S7vJu+yYAwCYxAYg8AYBIYQZJnkPMlsNEkyS3KR5Lnzh/hRHcZ993FuqqrFIQ582/zO55DlGONm4hl7qaqXJFdTziA+hzw1zt7lsWtw5w6ZjzE+Jp6xl6qaJ3mfcgZxh5BtPVGn1hnktHH2Lm1r6wxy2zh7l7uuwZ1Brqtq0Tj/W1X1kOSyaz7h7/fXrO5q3rou8lU1S3KW1c44SIxtF3VCkH/Ju6w/wiAwBoExCIxBYAwCYxAYg8AYBMYgMAaBMQiMQWAMAmMQGIPAGATGIDAGgTEIjEFgDAJjEBiDwBgExiAwBoExCIxBYAwCYxAYg8AYBMYgMAaBMQiMQWAMAmMQGIPAGATGIDAGgTEIjEEkSToSn6mWBDoPoverAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAABQ0lEQVR4nO3csW0bQRBA0VlXITfmMuRaVIcLI7s4RwQkmKIS+vh1fC/dYAb4yQF72BkAAIB9rc8Otm37NTNvM/OyyyJrfdhl27btSPPeOc/M61rrz7XDW0FOs1OMmacKMjNzXmv9vHZwK8ieCz5bkH/mX/zYcwm+JkiMIDGCxAgSI0iMIDGCxAgSI0iMIDGCxAgSI0iMIABwEHe/Uz/63fi95rlT/yYEiREkRpAYQWIEiREkRpAYQWIEiREkRpAYQWIEiREkRpAYQQDgILzksNO8r+Zf+MqKESRGkBhBYgSJESRGkBhBYgSJESRGkBhBYgSJESRGkBhBYgQBgIPw1smD5vnr5JsQJEaQGEFiBIkRJEaQGEFiBIkRJEaQGEFiBIkRJEaQmFtBzrtt8XxOnx3cCvI6ovwPp5n5/eglAAAALv4CjtFYBjakwqUAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}